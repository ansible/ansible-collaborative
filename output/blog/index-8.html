<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns# article: http://ogp.me/ns/article#
" lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="Ansible Collaborative Website">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Ansible Collaborative (old posts, page 8) | Ansible Collaborative</title>
<link href="../assets/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="../assets/css/baguetteBox.min.css" rel="stylesheet" type="text/css">
<link href="../assets/css/rst.css" rel="stylesheet" type="text/css">
<link href="../assets/css/code.css" rel="stylesheet" type="text/css">
<link href="../assets/css/theme.css" rel="stylesheet" type="text/css">
<!-- Red Hat fonts --><link rel="stylesheet" href="https://static.redhat.com/libs/redhat/redhat-font/2.0.0/webfonts/red-hat-font.css">
<!-- Font Awesome --><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">
<!-- Fork Awesome --><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.2.0/css/fork-awesome.min.css" integrity="sha256-XoaMnoYC5TH6/+ihMEnospgm0J1PM/nioxbOUdnM8HY=" crossorigin="anonymous">
<!-- Sass compiled css  --><link rel="stylesheet" href="../assets/css/main.css">
<link rel="stylesheet" href="../assets/css/redhat-footer.css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="../rss.xml">
<link rel="canonical" href="https://ansible.com/blog/index-8.html">
<link rel="prev" href="index-9.html" type="text/html">
<link rel="next" href="index-7.html" type="text/html">
<!--[if lt IE 9]><script src="../assets/js/html5.js"></script><![endif]-->
</head>
<body id="top">

<div class="global-container" id="content" role="main">
<!-- Start menubar -->
<nav class="navbar navbar-expand-lg static-top mb-4 navbar-padding full-width-bg   navbar-dark   bg-pool   "><div class="masthead">
    <!-- This keeps the margins nice -->
    <a class="navbar-brand" href="../">
        <img src="../images/ansible_logo-small-15.png" alt="Ansible community logo" id="logo" class="d-inline-block align-top" width="50" height="50"></a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon nav-toggle-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="bs-navbar">
      <ul class="navbar-nav mr-auto"></ul>
<ul class="navbar-nav navbar-right">
<li class="nav-item dropdown">
	        <a href="#" class="nav-link nav-link-color dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
		    <i class=""></i> Documentation
                </a>
		<div class="dropdown-menu dropdown-menu-border">
	    
                    <a href="https://docs.ansible.com/" class="dropdown-item">
		        <i class=""></i> Project documentation
                    </a>
                    <a href="https://access.redhat.com/documentation/en-us/red_hat_ansible_automation_platform/" class="dropdown-item">
		        <i class=""></i> Ansible Automation Platform documentation
                    </a>
            </div>
                 </li>
<li class="nav-item">
		     <a href="https://galaxy.ansible.com/" target="_blank" class="nav-link nav-link-color">
		         <i class=""></i> Galaxy
		     </a>
		 </li>
                 <li class="nav-item">
		     <a href="https://forum.ansible.com/" target="_blank" class="nav-link nav-link-color">
		         <i class=""></i> Forum
		     </a>
		 </li>
            <li class="nav-item dropdown">
	        <a href="#" class="nav-link nav-link-color dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
		    <i class=""></i> Resources
                </a>
		<div class="dropdown-menu dropdown-menu-border">
	    
                    <a href="../how-ansible-works/" class="dropdown-item">
		        <i class=""></i> How Ansible works
                    </a>
                    <a href="../ecosystem/" class="dropdown-item">
		        <i class=""></i> Ansible ecosystem
                    </a>
                    <a href="archive.html" class="dropdown-item">
		        <i class=""></i> Blog
                    </a>
                    <a href="../faq/" class="dropdown-item">
		        <i class=""></i> Frequently asked questions
                    </a>
                    <a href="../ansible-community-training/" class="dropdown-item">
		        <i class=""></i> Ansible community training
                    </a>
                    <a href="../contact-us/" class="dropdown-item">
		        <i class=""></i> Contact us
                    </a>
            </div>
                 </li>
<li class="nav-item">
		     <a href="https://www.redhat.com/en/technologies/management/ansible?sc_cid=7015Y000003szaKQAQ" target="_blank" class="nav-link nav-link-color">
		         <i class=""></i> Ansible Automation Platform
		     </a>
		 </li>

        
      </ul>
</div>
    <!-- /.navbar-collapse -->
  </div>
  <!-- /.container -->
</nav><!-- End default Menubar --><div class="body-content center-band">
        <!--Body content-->
        
    
  <div class="postindex ansible-content">
      <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title">
            <a href="bullhorn-15/" class="u-url">Bullhorn #15</a>
          </h1>
          <div class="metadata">
            <p class="byline author vcard">
              <span class="byline-name fn" itemprop="author">
                  <a href="../authors/ansible-collaborative-et-al/">Ansible Collaborative, et al</a>
              </span>
            </p>
            <p class="dateline">
              <a href="bullhorn-15/" rel="bookmark">
                <time class="published dt-published" datetime="2020-12-02T18:00:00Z" itemprop="datePublished" title="2020-12-02 18:00">2020-12-02 18:00</time></a>
            </p>
          </div>
        </header><div class="p-summary entry-summary">
            <div>
<p><img alt="Ansible Bullhorn banner" src="../images/bullhorn-banner-mango.png"></p>
<p><strong>The Bullhorn</strong>
<strong>Issue #15, 2020-12-02</strong></p>
<p>Welcome to the Bullhorn, our newsletter for the Ansible developer community. If you have any questions or content you’d like to share, please reach out to us at the-bullhorn@redhat.com, or comment on this <a href="https://github.com/ansible/community/issues/546">GitHub issue</a>.</p>
</div>
          </div>
      </article><br><hr>
<br><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title">
            <a href="new-libssh-connection-plugin-for-ansible-network/" class="u-url">New LibSSH Connection Plugin for Ansible Network Replaces Paramiko, Adds FIPS Mode Enablement</a>
          </h1>
          <div class="metadata">
            <p class="byline author vcard">
              <span class="byline-name fn" itemprop="author">
                  <a href="../authors/ganesh-nalawade/">Ganesh Nalawade</a>
              </span>
            </p>
            <p class="dateline">
              <a href="new-libssh-connection-plugin-for-ansible-network/" rel="bookmark">
                <time class="published dt-published" datetime="2020-11-24T00:00:00Z" itemprop="datePublished" title="2020-11-24 00:00">2020-11-24 00:00</time></a>
            </p>
          </div>
        </header><div class="p-summary entry-summary">
            <h2>New LibSSH Connection Plugin for Ansible Network Replaces Paramiko, Adds FIPS Mode Enablement</h2>
<p>As Red Hat Ansible Automation Platform expands its footprint with a
growing customer base, security continues to be an important aspect of
organizations' overall strategy. Red Hat regularly reviews and enhances
the foundational codebase to follow better security practices. As part
of this effort, we are introducing <a href="https://www.sdxcentral.com/security/definitions/what-does-mean-fips-compliant/">FIPS 140-2
readiness</a>
enablement by means of a newly developed Ansible SSH connection plugin
that uses the <a href="https://www.libssh.org/">libssh</a> library.</p>
<h3>Ansible Network SSH Connection Basics</h3>
<p>Since most network appliances don't support or have limited capability
for the local execution of a third party software, the Ansible network
modules are not copied to the remote host unlike linux hosts; instead,
they run on the control node itself. Hence, Ansible network can't use
the typical Ansible SSH connection plugin that is used with linux host.
Furthermore, due to this behavior, performance of the underlying SSH
subsystem is critical. Not only is the new LibSSH connection plugin
enabling FIPS readiness, but it was also designed to be
<a href="https://elegantnetwork.github.io/posts/comparing-ssh/">more performant than the existing Paramiko SSH subsystem</a>.</p>
<p><img alt="diagram of module code execution" src="../images/posts/archive/module-code-execution-diagram.png"></p>
<p>The top level <code>network_cli</code> connection
plugin, provided by the ansible.netcommon Collection (specifically
<code>ansible.netcommon.network_cli</code>), provides an SSH based connection to the
network appliance. It in turn calls the <code>ansible.builtin.paramiko_ssh</code>
connection plugin that depends on the paramiko python library to
initialize the session between control node and the remote host. After
that, it creates a pseudo terminal (PTY) to send commands from the
control node to the network appliance and receive the responses.</p>
<h3>Why Replace Paramiko?</h3>
<p>The primary reason to replace the paramiko library is that it doesn't
guarantee FIPS readiness and thus limits the Ansible network capability
to run in environments that mandate FIPS mode to be enabled. Paramiko
also isn't the speediest of connection plugins, so that can also be
enhanced. Therefore, the new <code>ansible.netcommon.libssh</code> connection plugin
can now be easily swapped in for paramiko. The <code>ansible.netcommon</code>
Collection now contains this by default, and can be used for testing
purposes until the codebase becomes more stable (it is currently
<a href="https://access.redhat.com/solutions/21101">Technology Preview</a>).</p>
<p>Comparing the connection flow to the above, the top level
<code>network_cli</code> connection plugin that is provided by the <code>ansible.netcommon</code> Collection
(specifically <code>ansible.netcommon.network_cli</code>) still provides an SSH based
connection to the network appliance. It in turn calls the
<code>ansible.netcommon.libssh</code> connection plugin that depends on the
<a href="https://pypi.org/project/ansible-pylibssh/"><code>ansible-pylibssh</code> python library</a>
to initialize the session between control node and the remote host. This
python library is essentially a cython wrapper on top of the
<a href="https://www.libssh.org/">libssh C library</a>. It then creates pseudo terminals
(PTY) over SSH using python.</p>
<h3>Switching Ansible Playbooks to use LibSSH</h3>
<p>With the <code>ansible.netcommon</code> Collection version 1.0.0, a new configuration
parameter within <code>ansible.netcommon.network_cli</code> connection plugin was
added, which allows for <code>ssh_type</code> be set to either <code>libssh</code> or <code>paramiko</code>. </p>
<p>If the value of the configuration parameter is set to <code>libssh</code>, it will use the
<code>ansible.netcommon.libssh</code> connection plugin, which in turn uses the
<code>ansible-pylibssh</code> python library that supports FIPS readiness. If the
value is set to <code>paramiko</code>, it will continue to use the default
<code>ansible.builtin.paramiko</code> connection plugin that relies on the
<code>paramiko</code> python library. </p>
<p>Again, the default value is set to <code>paramiko</code>, but in the future plans are
to change the default to <code>libssh</code>.</p>
<h3>Installing and Configuring LibSSH</h3>
<p>In order to utilize the LibSSH plugin, you must first install the
<code>ansible-pylibssh</code> python library from PyPI via the following command:</p>
<div class="code"><pre class="code literal-block">pip<span class="w"> </span>install<span class="w"> </span>ansible-pylibssh
</pre></div>

<p>NOTES:</p>
<ul>
<li>The current PyPI installation method bundles the correct version of
    <code>LibSSH</code> library and its dependencies as <a href="https://packaging.python.org/glossary/#term-Built-Distribution">platform-specific
    wheels</a>
    that don't rely on any OS-level libraries in runtime.</li>
<li>Future plans include creation, publishing, and maintenance of
    stand-alone RPM and DEB packages for the <code>ansible-pylibssh</code> library
    that can be installed with well-known Linux package managers. These
    will install the required system <code>libssh</code> version and its dependencies
    on the control node. FYI, Red Hat Enterprise Linux 8.1 and later
    contains the proper <code>libssh</code> package version and its dependencies.</li>
<li>The current primary use case for using LibSSH with Ansible is for
    connecting to network devices. Connecting to other types of
    endpoints (such as Linux) will be officially enabled at a later
    date.</li>
</ul>
<h3>Using LibSSH in Ansible Playbooks</h3>
<p>Method 1:  The <code>ssh_type</code> configuration parameter can be set to use
<code>libssh</code> in the active <code>ansible.cfg</code> file of your project as shown below:</p>
<div class="code"><pre class="code literal-block"><span class="k">[persistent_connection]</span>
<span class="na">ssh_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">libssh</span>
</pre></div>

<p>Method 2:  Set the <code>ANSIBLE_NETWORK_CLI_SSH_TYPE</code> environment variable as shown below:</p>
<div class="code"><pre class="code literal-block"><span class="nv">$export</span><span class="w"> </span><span class="nv">ANSIBLE_NETWORK_CLI_SSH_TYPE</span><span class="o">=</span>libssh
</pre></div>

<p>Method 3:  Set the <code>ansible_network_cli_ssh_type</code> parameter to <code>libssh</code>
within your playbook at the play level (as shown in below example).</p>
<p>NOTE: This setting can be made at the individual task level, but only if
the connection to the remote network device is not already established.
That is, if the first task uses <code>paramiko</code>, then all subsequent tasks in
the play must use <code>paramiko</code> even if <code>libssh</code> is specified in any subsequent
tasks.</p>
<h3>Troubleshooting LibSSH Connections</h3>
<p>To quickly verify the libssh transport is set correctly, you can run the
below playbook using the <code>ansible-playbook</code> command line with verbose flag
(-vvvv) added. Before running, ensure the inventory file is set correctly.</p>
<p>This example playbook uses the <code>cisco.ios</code> Collection and must first be
installed from Ansible Galaxy or Ansible Automation Platform on your
Ansible control node.</p>
<div class="code"><pre class="code literal-block"><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">hosts</span><span class="p">:</span><span class="w"> </span><span class="s">"changeme"</span>
<span class="w">  </span><span class="nt">gather_facts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">no</span>
<span class="w">  </span><span class="nt">connection</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ansible.netcommon.network_cli</span>
<span class="w">  </span><span class="nt">vars</span><span class="p">:</span>
<span class="w">    </span><span class="nt">ansible_network_os</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cisco.ios.ios</span>
<span class="w">    </span><span class="nt">ansible_user</span><span class="p">:</span><span class="w"> </span><span class="s">"changeme"</span>
<span class="w">    </span><span class="nt">ansible_password</span><span class="p">:</span><span class="w"> </span><span class="s">"changeme"</span>
<span class="w">    </span><span class="nt">ansible_network_cli_ssh_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">libssh</span>
<span class="w">  </span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">run show version command</span>
<span class="w">    </span><span class="nt">ansible.netcommon.cli_command</span><span class="p">:</span>
<span class="w">      </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">show version</span>

<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">run show interface command</span>
<span class="w">    </span><span class="nt">ansible.netcommon.cli_command</span><span class="p">:</span>
<span class="w">       </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">show interfaces</span>
</pre></div>

<p><a href="https://gist.github.com/ganeshrn/78149adca85c809b69ed1b5f5262844c">https://gist.github.com/ganeshrn/78149adca85c809b69ed1b5f5262844c</a></p>
<p>In the output verbose logs, you should see the line <em>"ssh type is set to libssh"</em> displayed on the console, which confirms the configuration is
set correctly.</p>
<h3>Next Steps and Resources</h3>
<ul>
<li>Start testing your Ansible network playbooks by setting the
    configuration to use the ansible-pylibssh library.</li>
<li>Help with performance profiling of your existing playbook of 
    ansible-pylibssh library with respect to paramiko library.</li>
<li>Get involved with the ansible-pylibssh project
    (<a href="https://github.com/ansible/pylibssh">https://github.com/ansible/pylibssh</a>)</li>
</ul>
</div>
      </article><br><hr>
<br><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title">
            <a href="bullhorn-14/" class="u-url">Bullhorn #14</a>
          </h1>
          <div class="metadata">
            <p class="byline author vcard">
              <span class="byline-name fn" itemprop="author">
                  <a href="../authors/ansible-collaborative-et-al/">Ansible Collaborative, et al</a>
              </span>
            </p>
            <p class="dateline">
              <a href="bullhorn-14/" rel="bookmark">
                <time class="published dt-published" datetime="2020-11-18T17:00:00Z" itemprop="datePublished" title="2020-11-18 17:00">2020-11-18 17:00</time></a>
            </p>
          </div>
        </header><div class="p-summary entry-summary">
            <div>
<p><img alt="Ansible Bullhorn banner" src="../images/bullhorn-banner-mango.png"></p>
<p><strong>The Bullhorn</strong>
<strong>Issue #14, 2020-11-18</strong></p>
<p>Welcome to the Bullhorn, our newsletter for the Ansible developer community. If you have any questions or content you’d like to share, please reach out to us at the-bullhorn@redhat.com, or comment on this <a href="https://github.com/ansible/community/issues/546">GitHub issue</a>.</p>
</div>
          </div>
      </article><br><hr>
<br><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title">
            <a href="bullhorn-13/" class="u-url">Bullhorn #13</a>
          </h1>
          <div class="metadata">
            <p class="byline author vcard">
              <span class="byline-name fn" itemprop="author">
                  <a href="../authors/ansible-collaborative-et-al/">Ansible Collaborative, et al</a>
              </span>
            </p>
            <p class="dateline">
              <a href="bullhorn-13/" rel="bookmark">
                <time class="published dt-published" datetime="2020-11-04T15:00:00Z" itemprop="datePublished" title="2020-11-04 15:00">2020-11-04 15:00</time></a>
            </p>
          </div>
        </header><div class="p-summary entry-summary">
            <div>
<p><img alt="Ansible Bullhorn banner" src="../images/bullhorn-banner-mango.png"></p>
<p><strong>The Bullhorn</strong>
<strong>Issue #13, 2020-11-04</strong></p>
<p>Welcome to the Bullhorn, our newsletter for the Ansible developer community. If you have any questions or content you’d like to share, please reach out to us at the-bullhorn@redhat.com, or comment on this <a href="https://github.com/ansible/community/issues/546">GitHub issue</a>.</p>
</div>
          </div>
      </article><br><hr>
<br><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title">
            <a href="automating-helm-using-ansible/" class="u-url">Automating Helm using Ansible</a>
          </h1>
          <div class="metadata">
            <p class="byline author vcard">
              <span class="byline-name fn" itemprop="author">
                  <a href="../authors/abhijeet-kasurde/">Abhijeet Kasurde</a>
              </span>
            </p>
            <p class="dateline">
              <a href="automating-helm-using-ansible/" rel="bookmark">
                <time class="published dt-published" datetime="2020-11-04T00:00:00Z" itemprop="datePublished" title="2020-11-04 00:00">2020-11-04 00:00</time></a>
            </p>
          </div>
        </header><div class="p-summary entry-summary">
            <h2>Automating Helm using Ansible</h2>
<p>Increasing business demands are driving the need for increased
automation to support rapid, yet stable, and reliable deployments of
applications and supporting infrastructure. Kubernetes and cloud-native
technologies are no different. For the Kubernetes platform, Helm is the
standard means of packaging, configuring and deploying applications and
services onto any cluster.</p>
<p>We recently released the kubernetes.core 1.1, our first Red Hat
Certified Content Collection release, for general use. A big part of the
new content that has been introduced is support for automating Helm
operations. In this blog post, I will show you some common scenarios for
its use in your automation.</p>
<p>Please note that prior to the release of kubernetes.core 1.1, its
contents were released as community.kubernetes. With this content
becoming Red Hat support and certified content, a name change was in
order. We are in
<a href="https://github.com/ansible-collections/community.kubernetes/issues/221">the process of making that transition</a>. </p>
<h2>A Quick Introduction to Helm</h2>
<p>Helm is an open source tool used for packaging and deploying
applications on Kubernetes. It is often called Kubernetes Package
Manager. It is widely adopted by the Kubernetes community and the Cloud
Native Computing Foundation (CNCF) graduate project.</p>
<p>Helm simplifies deployment of the applications by abstracting many of
the complexities. This enables easier adoption and allows teams to be
more productive.</p>
<p>Helm is designed as a Package Manager specifically for Kubernetes. It
supports operations like install, remove, upgrade, rollback and
downgrade for Kubernetes applications. As you may know, Kubernetes
applications can be defined using declarative resource files for
different Kubernetes objects like Deployment, Services, ConfigMaps,
PersistentVolumeClaims and so on. Distributing and managing Kubernetes
applications is difficult. Helm packages all Kubernetes resource files
into a format called "Charts". Chart can be considered as the Kubernetes
Package. This packaging format contains information about resource
files, dependencies information and metadata.</p>
<h2>Automating Helm using Ansible</h2>
<p>You can automate your Kubernetes infrastructure using Ansible. All
Kubernetes modules are now located in the Kubernetes Collection called
kubernetes.core. This Collection also contains modules to automate Helm
and its related functionalities.</p>
<p>The following is the list of Helm related modules included in the
kubernetes.core Collection -</p>
<ol>
<li>
<strong>helm</strong> - Manages K8S packages with the Helm binary</li>
<li>
<strong>helm_info</strong> - Gather information on Helm packages deployed inside
    the cluster</li>
<li>
<strong>helm_plugin</strong> - Manage Helm plugins</li>
<li>
<strong>helm_plugin_info</strong> - Gather information about Helm plugins</li>
<li>
<strong>helm_repository</strong> - Manage Helm repositories</li>
</ol>
<p>Helm modules take advantage of the Helm binary installed on Ansible
controllers. This makes helm modules work out of the box and readily
available for the users. Unlike the previous helm module, these are 
independent of any third party Python libraries. A special thanks to
<a href="https://github.com/LucasBoisserie">LucasBoisserie</a> for his
contributions.</p>
<p>Let us take a look at these modules used in some common scenarios.</p>
<h3>Scenario 1 - Adding new Helm Repository</h3>
<p>In order to install the Helm Package, you need to have the Helm
repository added in your Kubernetes cluster. </p>
<p>Let us now add a Helm Repository using helm_repository module:</p>
<div class="code"><pre class="code literal-block"><span class="nn">---</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">hosts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">localhost</span>
<span class="w">  </span><span class="nt">vars</span><span class="p">:</span>
<span class="w">     </span><span class="nt">helm_chart_url</span><span class="p">:</span><span class="w"> </span><span class="s">"https://charts.bitnami.com/bitnami"</span>
<span class="w">  </span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Add helm repo</span>
<span class="w">        </span><span class="nt">kubernetes.core.helm_repository</span><span class="p">:</span>
<span class="w">            </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bitnami</span>
<span class="w">            </span><span class="nt">repo_url</span><span class="p">:</span><span class="w"> </span><span class="s">"{{</span><span class="nv"> </span><span class="s">helm_chart_url</span><span class="nv"> </span><span class="s">}}"</span>
</pre></div>

<p>Here, we are installing a new Helm Chart Repository by specifying URL
and name. After running this playbook, you will have Bitnami Chart
Repository installed in your environment.</p>
<div class="code"><pre class="code literal-block"><span class="c1"># helm repo list</span>
NAME<span class="w">     </span>URL
stable<span class="w">     </span>https://kubernetes-charts.storage.googleapis.com/
bitnami<span class="w">    </span>https://charts.bitnami.com/bitnami
</pre></div>

<h3>Scenario 2 - Installing a Helm Chart</h3>
<p>Now, we have the Helm repository configured. Let us now install nginx charts
from the Bitnami repository.</p>
<div class="code"><pre class="code literal-block"><span class="nn">---</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">hosts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">localhost</span>
<span class="w">  </span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">     </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Install Nginx Chart</span>
<span class="w">       </span><span class="nt">kubernetes.core.helm</span><span class="p">:</span>
<span class="w">           </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx-server</span>
<span class="w">           </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">testing</span>
<span class="w">           </span><span class="nt">chart_ref</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bitnami/nginx</span>
</pre></div>

<p>After running this playbook, you can see nginx-server deployment running
in your <em>testing</em> environment.</p>
<div class="code"><pre class="code literal-block"><span class="c1"># kubectl -n testing get deploy</span>
NAME<span class="w">            </span>READY<span class="w">   </span>UP-TO-DATE<span class="w">   </span>AVAILABLE<span class="w">   </span>AGE
nginx-server<span class="w">      </span><span class="m">1</span>/1<span class="w">     </span><span class="m">1</span><span class="w">            </span><span class="m">1</span><span class="w">           </span>48s
</pre></div>

<h3>Scenario 3 - Gather information about Helm Chart installed</h3>
<p>Gathering information about the Helm Chart is also easy using the
helm_info module.</p>
<div class="code"><pre class="code literal-block"><span class="nn">---</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">hosts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">localhost</span>
<span class="w">  </span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">     </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Gather information about nginx-server</span>
<span class="w">       </span><span class="nt">kubernetes.core.helm_info</span><span class="p">:</span>
<span class="w">            </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx-server</span>
<span class="w">            </span><span class="nt">release_namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">testing</span>
</pre></div>

<p>Running this playbook will provide valuable information about the
installed chart such as app version, chart version, revision, status and
updated date time about the given chart.</p>
<h3>Scenario 4 - Install Helm Plugin</h3>
<p>Helm allows you to enhance its functionality by providing pluggable
architecture. That means users can write plugins to enhance Helm
functionality. There is a large number of Helm plugins available. Users
can install those plugins depending on their use case and requirements.</p>
<p>Let us now try to install the Helm plugin called
<a href="https://github.com/adamreese/helm-env">helm env</a>. This helm plugin allows
users to view the environment variables available to a helm plugin.</p>
<div class="code"><pre class="code literal-block"><span class="nn">---</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">hosts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">localhost</span>
<span class="w">  </span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">     </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Install Helm Plugin</span>
<span class="w">       </span><span class="nt">kubernetes.core.helm_plugin</span><span class="p">:</span>
<span class="w">           </span><span class="nt">plugin_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://github.com/adamreese/helm-env</span>
<span class="w">           </span><span class="nt">state</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">present</span>
<span class="w">           </span><span class="nt">release_namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">testing</span>
</pre></div>

<h3>Scenario 5 - Gather information about Helm plugins</h3>
<p>Users can gather information about installed Helm plugins from the given
Kubernetes cluster.</p>
<div class="code"><pre class="code literal-block"><span class="nn">---</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">hosts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">localhost</span>
<span class="w">  </span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Gather Helm plugin info</span>
<span class="w">    </span><span class="nt">kubernetes.core.helm_plugin_info</span><span class="p">:</span>
<span class="w">        </span><span class="nt">release_namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">testing</span>
<span class="w">    </span><span class="nt">register</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">r</span>

<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Print plugin version</span>
<span class="w">    </span><span class="nt">debug</span><span class="p">:</span>
<span class="w">    </span><span class="nt">msg</span><span class="p">:</span><span class="w"> </span><span class="s">"{{</span><span class="nv"> </span><span class="s">(</span><span class="nv"> </span><span class="s">r.plugin_list</span><span class="nv"> </span><span class="s">|</span><span class="nv"> </span><span class="s">selectattr('name',</span><span class="nv"> </span><span class="s">'equalto',</span><span class="nv"> </span><span class="s">plugin_name)</span><span class="nv"> </span><span class="s">|</span><span class="nv"> </span><span class="s">list</span><span class="nv"> </span><span class="s">)[0].version</span><span class="nv"> </span><span class="s">}}"</span>
<span class="w">    </span><span class="nt">vars</span><span class="p">:</span>
<span class="w">    </span><span class="nt">plugin_name</span><span class="p">:</span><span class="w"> </span><span class="s">"env"</span>
</pre></div>

<p>This will output all the information related to plugins from the given
namespace. Users can specify a particular plugin name to gather its
information.</p>
<h2>Conclusion &amp; Next Steps</h2>
<p>There you have it. With the Helm modules in kubernetes.core, you can
easily automate the management of Kubernetes applications in a
repeatable and reliable way. We hope you try it and let us know what you
think. Please stop by at the Ansible Kubernetes IRC channel </p>
<h2>ansible-kubernetes on <a href="https://webchat.freenode.net/">Freenode</a> to</h2>
<p>provide your valuable feedback or if you need assistance with
<strong>kubernetes.core</strong> Collection.</p>
<p>In a future post, we'll cover the rest of what's new in
kubernetes.core and introduce the
<a href="https://github.com/ansible-collections/community.okd">community.okd (OpenShift) Collection</a>
we are currently developing.</p>
          </div>
      </article><br><hr>
<br><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title">
            <a href="bullhorn-12/" class="u-url">Bullhorn #12</a>
          </h1>
          <div class="metadata">
            <p class="byline author vcard">
              <span class="byline-name fn" itemprop="author">
                  <a href="../authors/ansible-collaborative-et-al/">Ansible Collaborative, et al</a>
              </span>
            </p>
            <p class="dateline">
              <a href="bullhorn-12/" rel="bookmark">
                <time class="published dt-published" datetime="2020-10-21T15:00:00Z" itemprop="datePublished" title="2020-10-21 15:00">2020-10-21 15:00</time></a>
            </p>
          </div>
        </header><div class="p-summary entry-summary">
            <p><img alt="Ansible Bullhorn banner" src="../images/bullhorn-banner-mango.png"></p>
<tr>
<td class="mcnTextContent" style='padding: 0px 18px 9px;font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;word-break: break-word;color: #202020;font-size: 16px;line-height: 150%;text-align: left;' valign="top">

                            <h2 class="null" dir="ltr" style="display: block;margin: 0;padding: 0;color: #202020;font-family: Helvetica;font-size: 26px;font-style: normal;font-weight: bold;line-height: 125%;letter-spacing: normal;text-align: left;">The Bullhorn</h2>

<p dir="ltr" style='font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;margin: 10px 0;padding: 0;mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #202020;font-size: 16px;line-height: 150%;text-align: left;'><em>A Newsletter for the Ansible Developer Community<br>
Issue #12, 2020-10-21</em><br><br>
Welcome to <em>The Bullhorn</em>, our newsletter for the Ansible developer community. If you have any questions or content you’d like to share, please reach out to us at the-bullhorn@redhat.com, or comment on this <a href="https://github.com/ansible/community/issues/546" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">GitHub issue</a>.<br>
 </p>

<h3 class="null" dir="ltr" style="display: block;margin: 0;padding: 0;color: #202020;font-family: Helvetica;font-size: 22px;font-style: normal;font-weight: bold;line-height: 125%;letter-spacing: normal;text-align: left;">KEY DATES</h3>

<ul dir="ltr">
<li style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;">2020-10-21: <a href="https://github.com/ansible/community/issues/539" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">community IRC meeting</a>
</li>
    <li style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;">2020-10-28: <a href="https://github.com/ansible/community/issues/539" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">community IRC meeting</a>
</li>
    <li style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;">2020-10-30: <a href="https://organize.mlh.io/participants/events/3936-ansible-hacktoberfest-2020-virtual" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">Ansible Hacktoberfest 2020</a>
</li>
    <li style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;">2020-10-30: <a href="https://github.com/ansible/community/issues/546" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">Bullhorn #13 content deadline</a>
</li>
    <li style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;">2020-11-02: ETA for ansible-base 2.10.3 release</li>
    <li style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;">2020-11-03: ETA for ansible 2.10.2 release</li>
    <li style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;">TBD: <a href="https://github.com/ansible/ansible/blob/devel/docs/docsite/rst/roadmap/COLLECTIONS_2_11.rst" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">Ansible 2.11 release schedule</a>
</li>
</ul>
 

<h3 class="null" dir="ltr" style="display: block;margin: 0;padding: 0;color: #202020;font-family: Helvetica;font-size: 22px;font-style: normal;font-weight: bold;line-height: 125%;letter-spacing: normal;text-align: left;">ANSIBLE 2.10.1 NOW GENERALLY AVAILABLE</h3>
The Ansible Community team announced the general availability of Ansible 2.10.1 on October 13th. This first minor release of the ansible-2.10 package should be a drop-in replacement for Ansible 2.9; the roles and playbooks that you currently use should work out of the box with ansible-2.10.1. For more information on what’s new, how to get it, plus caveats and known bugs, read <a href="https://groups.google.com/forum/#!topic/ansible-devel/caORgIMg2k8" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">Toshio Kuratomi’s announcement to the ansible-devel mailing list</a>.<br>
 
<h3 class="null" style="display: block;margin: 0;padding: 0;color: #202020;font-family: Helvetica;font-size: 22px;font-style: normal;font-weight: bold;line-height: 125%;letter-spacing: normal;text-align: left;">ANSIBLE-BASE 2.10.2 NOW GENERALLY AVAILABLE</h3>
The Ansible Base team announced the general release of Ansible 2.10.2 on October 5th. This ansible-base package consists of only the Ansible execution engine, related tools (e.g. ansible-galaxy, ansible-test), and a very small set of built-in plugins, and is also bundled with the larger Ansible distribution. For more information on how to download, test, and report issues, read <a href="https://groups.google.com/forum/#!topic/ansible-devel/0BZ7EWfvY9w" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">Rick Elrod’s announcement to the ansible-devel mailing list</a>.<br>
 
<h3 class="null" style="display: block;margin: 0;padding: 0;color: #202020;font-family: Helvetica;font-size: 22px;font-style: normal;font-weight: bold;line-height: 125%;letter-spacing: normal;text-align: left;">ANSIBLE 2.9.14 AND 2.8.16 RELEASED</h3>
The Ansible Core team announced the availability of Ansible 2.9.14 and Ansible 2.8.16 on October 5th, both of which are maintenance releases. Follow <a href="https://groups.google.com/forum/#!topic/ansible-devel/rbjs1LpgQAQ" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">this link</a> for Rick Elrod’s email to the ansible-devel mailing list, to obtain details on what’s new, installation instructions, and links to the full changelogs.<br>
 
<h3 class="null" style="display: block;margin: 0;padding: 0;color: #202020;font-family: Helvetica;font-size: 22px;font-style: normal;font-weight: bold;line-height: 125%;letter-spacing: normal;text-align: left;">PROPOSALS FOR ANSIBLE COLLECTIONS</h3>
Feedback is needed from the wider Ansible community on the following:

<ul>
<li style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;">Moving content from collections in Ansible 2.10 to collections currently outside, or: should we add new collections to 2.10.x? For example, should we allow Postgres modules to be migrated from community.general to a new community.postgres collection to be included in Ansible 2.10? <a href="https://github.com/ansible-collections/overview/discussions/117" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">#117</a>
</li>
    <li style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;">Should docs be included in collection and Ansible package tarballs? <a href="https://github.com/ansible-collections/overview/discussions/120" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">#120</a>
</li>
    <li style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;">Should tests be included in collection tarballs? <a href="https://github.com/ansible-collections/overview/discussions/111" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">#111</a>
</li>
</ul>
Please add your feedback via commenting on the GitHub discussions. You can see the full list of proposals <a href="https://github.com/ansible-collections/overview/discussions?discussions_q=category%3AProposals" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">here</a>.<br>
 
<h3 class="null" style="display: block;margin: 0;padding: 0;color: #202020;font-family: Helvetica;font-size: 22px;font-style: normal;font-weight: bold;line-height: 125%;letter-spacing: normal;text-align: left;">CHANGES IMPACTING COLLECTION CONTRIBUTORS</h3>

<ul>
<li style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;">
<span style="font-family:courier new,courier,lucida sans typewriter,lucida typewriter,monospace">ansible-test sanity</span> now validates more semantic versioning properties for collections (<a href="https://github.com/ansible-collections/overview/issues/45#issuecomment-700973171" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">details</a>)</li>
</ul>
You can stay up-to-date with the changes as they happen by subscribing to <a href="https://github.com/ansible-collections/overview/issues/45" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">this GitHub issue</a>.<br>
 
<h3 class="null" style="display: block;margin: 0;padding: 0;color: #202020;font-family: Helvetica;font-size: 22px;font-style: normal;font-weight: bold;line-height: 125%;letter-spacing: normal;text-align: left;">NEW/UPDATED COMMUNITY COLLECTIONS</h3>
These collections have been released on September 30: <a href="https://galaxy.ansible.com/community/general" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">community.general 1.2.0</a> and <a href="https://galaxy.ansible.com/community/network" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">community.network 1.2.0</a>.<br><br>
For VMware, <a href="https://galaxy.ansible.com/community/vmware" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">community.vmware 1.3.0</a> was released on October 2. This <a href="https://www.ansible.com/blog/introducing-the-vmware-rest-ansible-content-collection" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">blog post</a> introduces the new <a href="https://galaxy.ansible.com/vmware/vmware_rest" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">VMware REST collection</a>.<br><br>
The <a href="https://github.com/ansible-collections/community.kubernetes" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">community.kubernetes</a> collection is going to move to <a href="https://github.com/ansible-collections/kubernetes.core" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">kubernetes.core</a> shortly (<a href="https://github.com/ansible-collections/community.kubernetes/issues/221" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">see why</a>). Also, the <a href="https://github.com/ansible-collections/community.okd" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">community.okd</a> collection just got a new 0.3.0 release that is ready for testing, and soon, inclusion on <a href="https://www.ansible.com/products/automation-hub" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">Automation Hub</a> under the name ‘redhat.openshift’.<br><br><a href="https://galaxy.ansible.com/containers/podman" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">Ansible Podman collection</a> released 1.3.1 version on October 8, which includes bug fixes and enhancements for <a href="https://github.com/containers/ansible-podman-collections/blob/master/plugins/modules/podman_container.py" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">podman_container</a>, <a href="https://github.com/containers/ansible-podman-collections/blob/master/plugins/modules/podman_network.py" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">podman_network</a>, <a href="https://github.com/containers/ansible-podman-collections/blob/master/plugins/modules/podman_volume.py" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">podman_volume</a> and other modules. The dependency on PyYAML python package has finally been removed from all podman modules, so now the collection doesn't require anything but Podman installed on the host.<br><br>
Several more collections were updated on October 13: <a href="https://galaxy.ansible.com/community/crypto" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">community.crypto 1.2.0</a> (fixes CVE-2020-25646), <a href="https://galaxy.ansible.com/community/mysql" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">community.mysql 1.1.0</a>, and <a href="https://galaxy.ansible.com/cloudscale_ch/cloud" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">cloudscale_ch.cloud 1.2.0</a>.<br><br>
Last but not least, <a href="https://galaxy.ansible.com/openstack/cloud" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">Ansible Openstack Cloud collection</a> released the newest 1.2.0 version on October 13. Modules for management of Openstack volumes and snapshots were added: <a href="https://opendev.org/openstack/ansible-collections-openstack/src/branch/master/plugins/modules/volume_snapshot_info.py" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">volume_snapshot_info</a>, <a href="https://opendev.org/openstack/ansible-collections-openstack/src/branch/master/plugins/modules/volume_backup.py" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">volume_backup</a>, <a href="https://opendev.org/openstack/ansible-collections-openstack/src/branch/master/plugins/modules/volume_backup_info.py" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">volume_backup_info</a>.<br>
 
<h3 class="mc-toc-title" style="display: block;margin: 0;padding: 0;color: #202020;font-family: Helvetica;font-size: 22px;font-style: normal;font-weight: bold;line-height: 125%;letter-spacing: normal;text-align: left;">ANSIBLE CONTRIBUTOR SUMMIT (OCTOBER 2020) RECAP</h3>
The third fully virtual Ansible Contributor Summit of 2020 was held on October 12th and 15th. More than 700 participants joined us over the course of the 2 days, which is 10 times the previous event in July. We are still processing the videos and recordings from the summit, and they will be made available on the <a href="https://www.youtube.com/AnsibleCommunity" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">Ansible Community Youtube channel</a>, and shared with the attendees along with notes and Q&amp;A responses.<br><br>
In the meantime, you can check out the summary (<a href="https://meetbot.fedoraproject.org/ansible-community/2020-10-12/ansible_contributors_summit.2020-10-12-13.51.html" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">Day 1</a>, <a href="https://meetbot.fedoraproject.org/ansible-community/2020-10-15/ansible_contributors_summit_-_general_session.2020-10-15-13.53.html" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">Day 2</a>) and full logs (<a href="https://meetbot.fedoraproject.org/ansible-community/2020-10-12/ansible_contributors_summit.2020-10-12-13.51.log.html" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">Day 1</a>, <a href="https://meetbot.fedoraproject.org/ansible-community/2020-10-15/ansible_contributors_summit_-_general_session.2020-10-15-13.53.log.html" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">Day 2</a>) from the IRC sessions.<br><br>
We would appreciate your feedback to help us improve the Contributor Experience, whether or not you were able to attend the event. Here is the <a href="https://www.surveymonkey.co.uk/r/5DG9VJX" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">Contributor Survey</a>; please take a couple of minutes to fill this in. Thank you!<br>
 
<h3 class="null" style="display: block;margin: 0;padding: 0;color: #202020;font-family: Helvetica;font-size: 22px;font-style: normal;font-weight: bold;line-height: 125%;letter-spacing: normal;text-align: left;">ANSIBLE HACKTOBERFEST 2020</h3>
We usually follow up issues discussed in the Ansible Contributor Summit with an Ansible Hackathon. Since this is also the month of <a href="https://hacktoberfest.digitalocean.com/" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">Hacktoberfest</a>, we will have an <a href="https://organize.mlh.io/participants/events/3936-ansible-hacktoberfest-2020-virtual" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">Ansible Hacktoberfest</a> event on October 30th, 2020. Please <a href="https://organize.mlh.io/participants/events/3936-ansible-hacktoberfest-2020-virtual" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">register</a> and join us!<br>
 
<h3 class="null" style="display: block;margin: 0;padding: 0;color: #202020;font-family: Helvetica;font-size: 22px;font-style: normal;font-weight: bold;line-height: 125%;letter-spacing: normal;text-align: left;">ANSIBLE COMMUNITY STATS UPDATE</h3>
Following our Contributor Summit last week, <a href="https://twitter.com/Gwmngilfen" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">Greg</a> will be digging into the participation stats from Bluejeans, and results from <a href="https://www.surveymonkey.co.uk/r/5DG9VJX" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">post-event surveys</a> as usual. A cursory glance over the data shows 707 attendees from 67 countries across the two days! We can also see some indicators that the event helped to get people contributing, and especially that the Katacoda sessions helped with this - 19 of the 23 newcomers (83%) said Katacoda was useful, and 9/10 attendees who said they didn't know how to contribute earlier now say they do.<br><br>
More to come!<br>
 
<h3 class="null" style="display: block;margin: 0;padding: 0;color: #202020;font-family: Helvetica;font-size: 22px;font-style: normal;font-weight: bold;line-height: 125%;letter-spacing: normal;text-align: left;">CONTENT FROM THE ANSIBLE COMMUNITY</h3>

<ul>
<li style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;">
<a href="https://goneri.lebouder.net/2020/09/29/vmware_rest-why-a-new-collection/" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">vmware_rest: why a new Ansible Collection?</a> by <a href="https://github.com/goneri" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">Gonéri Le Bouder</a>
</li>
    <li style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;">
<a href="https://medium.com/@AbhijeetKasurde/automating-centos-7-installation-using-ansible-and-kickstart-483807a3774c" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">Automating CentOS 7 installation using Ansible and Kickstart</a> by <a href="https://github.com/Akasurde" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">Abhijeet Kasurde</a>
</li>
    <li style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;">
<a href="https://www.ansible.com/blog/getting-started-with-aws-ansible-module-development" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">Getting Started With AWS Ansible Module Development and Community Contribution</a> by <a href="https://github.com/jillr" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">Jill Rouleau</a>
</li>
    <li style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;">
<a href="https://theforeman.org/2020/10/how-to-write-a-new-foreman-ansible-module-in-20-lines-of-code.html" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">How to write a new Foreman Ansible module in 20 lines of code</a> by <a href="https://github.com/evgeni" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">Evgeni Golov</a>
</li>
    <li style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;">
<a href="https://medium.com/@AbhijeetKasurde/ansible-automating-windows-server-2012-r2-installation-in-vcenter-227577f5917c" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">Ansible: Automating Windows Server 2012 r2 installation in vCenter</a> by <a href="https://github.com/Akasurde" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">Abhijeet Kasurde</a>
</li>
    <li style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;">
<a href="https://theforeman.org/2020/10/foreman-config-as-code.html" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">Using Foreman Ansible Collection to apply Infrastructure as Code principles</a> by <a href="https://github.com/Thulium-Drake" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">Jeffrey van Pelt</a>
</li>
    <li style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;">
<a href="https://opensource.com/article/20/10/kubernetes-minecraft-ansible" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">Build a Kubernetes Minecraft server with Ansible's Helm modules</a> by <a href="https://www.jeffgeerling.com" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">Jeff Geerling</a>
</li>
</ul>
 

<h3 class="null" style="display: block;margin: 0;padding: 0;color: #202020;font-family: Helvetica;font-size: 22px;font-style: normal;font-weight: bold;line-height: 125%;letter-spacing: normal;text-align: left;">ANSIBLE VIRTUAL MEETUPS</h3>
The following virtual meetups are being held in the Ansible community over the next month:<br><br><a href="https://www.meetup.com/Ansible-NOVA/" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">Ansible NOVA</a>

<ul>
<li style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;">
<a href="https://www.meetup.com/Ansible-NOVA/events/273934763/" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">Pumpkin Spiced Ansible and...AnsibleFest Recap!</a>

    <ul>
<li style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;">Wed, Nov 4 · 4:00 PM EST</li>
    </ul>
</li>
    <li style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;">
<a href="https://www.meetup.com/Ansible-NOVA/events/273117122/" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">2020 All Day DevOps Virtual Viewing Party for Ansible NOVA!</a> 
    <ul>
<li style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;">Thu, Nov 12 · 7:00 AM EST</li>
    </ul>
</li>
</ul>
<em><strong>Note:</strong> For these virtual events, the links to participate will be visible once you RSVP to attend. If you’re interested in the topics presented, you can join from anywhere in the world as long as the time zone and language works for you!</em><br>
 
<h3 class="mc-toc-title" style="display: block;margin: 0;padding: 0;color: #202020;font-family: Helvetica;font-size: 22px;font-style: normal;font-weight: bold;line-height: 125%;letter-spacing: normal;text-align: left;">NETDEVOPS SURVEY 2020 NOW OPEN</h3>
The NetDevOps Survey 2020 is now live, and looking for respondents! The goal of this survey is to collect information to understand how network operators and engineers are using automation to operate their network today. The survey has been designed to be vendor neutral, collaborative, and community-focused. All network professionals are welcome to participate in the survey, please complete the survey <a href="http://bit.ly/netdevops-survey-2020" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">here</a> October 23.<br>
 
<h3 class="null" style="display: block;margin: 0;padding: 0;color: #202020;font-family: Helvetica;font-size: 22px;font-style: normal;font-weight: bold;line-height: 125%;letter-spacing: normal;text-align: left;">FEEDBACK</h3>

<p dir="ltr" style='font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;margin: 10px 0;padding: 0;mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #202020;font-size: 16px;line-height: 150%;text-align: left;'>Have any questions you’d like to ask, or issues you’d like to see covered? Please send us an email at the-bullhorn@redhat.com.</p>
 

<h2 class="null" dir="ltr" style="display: block;margin: 0;padding: 0;color: #202020;font-family: Helvetica;font-size: 26px;font-style: normal;font-weight: bold;line-height: 125%;letter-spacing: normal;text-align: left;"> </h2>

                        </td>
                    </tr>
</div>
      </article><br><hr>
<br><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title">
            <a href="best-of-fest-ansiblefest-2020/" class="u-url">Best of AnsibleFest 2020</a>
          </h1>
          <div class="metadata">
            <p class="byline author vcard">
              <span class="byline-name fn" itemprop="author">
                  <a href="../authors/elle-universal/">Elle Universal</a>
              </span>
            </p>
            <p class="dateline">
              <a href="best-of-fest-ansiblefest-2020/" rel="bookmark">
                <time class="published dt-published" datetime="2020-10-14T00:00:00Z" itemprop="datePublished" title="2020-10-14 00:00">2020-10-14 00:00</time></a>
            </p>
          </div>
        </header><div class="p-summary entry-summary">
            <h2>Best of AnsibleFest 2020</h2>
<p>Thank you to everyone who joined us over the past two days for the
AnsibleFest 2020 virtual experience. We had such a great time connecting
with Ansible lovers across the globe. In case you missed some of it (or
all of it), we have some event highlights to share with you! If you want
to go see what you may have missed, all the AnsibleFest 2020 content
will be <a href="https://onlinexperiences.com/scripts/Server.nxp?LASCmd=AI:4;F:QS!10100&amp;ShowUUID=0D7D869A-8D51-4DED-9E1B-6699B9D36B9C">available on demand</a>
for a year. </p>
<h3>Community Updates</h3>
<p>This year at AnsibleFest 2020, Ansible Community Architect Robyn
Bergeron kicked off with her keynote on Tuesday morning. We heard how
with Ansible Content Collections, it's easier than ever to use Ansible
the way you want or need to, as a contributor or an end user. Ansible
2.10 is now available, and Robyn explained how the feedback loop got us
there. If you want to hear more about the Ansible community project, go
watch Robyn's keynote <a href="https://onlinexperiences.com/scripts/Server.nxp?LASCmd=AI:4;F:QS!10100&amp;ShowUUID=0D7D869A-8D51-4DED-9E1B-6699B9D36B9C">on demand</a>. </p>
<h4>Product Updates</h4>
<p>Ansible's own Richard Henshall talked about the Red Hat Ansible
Automation Platform product updates and new releases. In 2018, we
unveiled the Ansible certified partner program and now we have over 50
platforms certified. We are bridging traditional platforms, containers
and edge with a new integration between Red Hat Advanced Cluster
Management for Kubernetes and Ansible Automation Platform. Learn more
about the new integration from our <a href="https://www.redhat.com/en/about/press-releases/red-hat-expands-automation-hybrid-clouds-red-hat-ansible-automation-platform-integration-red-hat-openshift-environments">press release</a>.
This year at AnsibleFest, we also introduced private Automation Hub,
where users can now manage and curate Ansible content privately, from
trusted sources. You can learn more about this and other Ansible
Automation Platform updates from our <a href="https://www.redhat.com/en/about/press-releases/red-hat-accelerates-hybrid-cloud-automation-catalog-ready-use-certified-and-supported-ansible-automation">press release</a>.
You can also listen to Richard's full keynote in the AnsibleFest
platform <a href="https://onlinexperiences.com/scripts/Server.nxp?LASCmd=AI:4;F:QS!10100&amp;ShowUUID=0D7D869A-8D51-4DED-9E1B-6699B9D36B9C">on demand now</a>.</p>
<h4>Channel Content</h4>
<p>AnsibleFest 2020 showcased six channels of content; with something for
everyone. Some popular talks included the Ansible Automation Platform
Roadmap, Managing your own Private Ansible Content, Ansible Automation
Platform Technical Content Strategy, How to manage your Ansible
automation and how your automation is performing with analytics, and
much more! All 70+ breakout sessions are available on demand now.</p>
<p>We hope everyone enjoyed our first virtual AnsibleFest. Thank you to all
our attendees who helped make AnsibleFest 2020 the largest and most
successful AnsibleFest to date. To see more highlights of the event, you
can visit the <a href="http://ansiblefest.com/">AnsibleFest homepage</a>. Don't
forget, all the content will be available until October 2021, so you can
go back and <a href="https://onlinexperiences.com/scripts/Server.nxp?LASCmd=AI:4;F:QS!10100&amp;ShowUUID=0D7D869A-8D51-4DED-9E1B-6699B9D36B9C">watch the content</a>
whenever you would like. Thank you for connecting with us this year and
happy automating!</p>
          </div>
      </article><br><hr>
<br><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title">
            <a href="deep-dive-acl-configuration-management-using-ansible-network-automation-resource-modules/" class="u-url">Deep Dive, ACL Configuration Management Using Ansible Network Automation Resource Modules</a>
          </h1>
          <div class="metadata">
            <p class="byline author vcard">
              <span class="byline-name fn" itemprop="author">
                  <a href="../authors/sumit-jaiswal/">Sumit Jaiswal</a>
              </span>
            </p>
            <p class="dateline">
              <a href="deep-dive-acl-configuration-management-using-ansible-network-automation-resource-modules/" rel="bookmark">
                <time class="published dt-published" datetime="2020-10-12T00:00:00Z" itemprop="datePublished" title="2020-10-12 00:00">2020-10-12 00:00</time></a>
            </p>
          </div>
        </header><div class="p-summary entry-summary">
            <h2>Deep Dive, ACL Configuration Management Using Ansible Network Automation Resource Modules</h2>
<p>In October 2019 as part of the Red Hat Ansible Engine 2.9 release, the
Ansible Network Automation team introduced the first resource modules.</p>
<p>These opinionated network modules make
network automation easier and more consistent for those automating
various network platforms in production. The goal for resource modules
is to avoid creating and maintaining overly complex jinja2 templates for
rendering and pushing network configuration.</p>
<p>This blog post covers the newly released <code>ios_acls</code>
resource module and how to automate manual processes associated with
switch and router configurations. These network automation modules are
used for configuring routers and switches from popular vendors (but not
limited to) Arista, Cisco, Juniper, and VyOS. The access control lists
(ACLs) network resource modules are able to read ACL configuration from
the network, provide the ability to modify and then push changes to the
network device. These opinionated network resource modules make network
automation easier and more consistent for those automating various
network platforms in production. I'll walk through several examples and
describe the use cases for each state parameter (including three newly
released state types) and how these are used in real world
scenarios.</p>
<h3>The Certified Content Collection</h3>
<p>This blog uses the <code>cisco.ios</code> Collection maintained by the Ansible team, but there are other platforms
that also have ACL resource modules, such as <code>arista.eos</code>, <code>junipernetworks.junos</code>, and <code>vyos.vyos</code>.</p>
<h4>How to obtain the certified (supported) and upstream (community) Collection</h4>
<p>The upstream community Collection can be found on Ansible Galaxy: <a href="https://galaxy.ansible.com/cisco/ios">https://galaxy.ansible.com/cisco/ios**</a></p>
<p>The downstream supported Collection can be found on Automation Hub: <a href="https://cloud.redhat.com/ansible/automation-hub/cisco/ios">https://cloud.redhat.com/ansible/automation-hub/cisco/ios**</a></p>
<p>For more information on Ansible Content Collections, please refer to the following documentation:</p>
<p>https://docs.ansible.com/ansible/latest/user_guide/collections_using.html</p>
<p>Before starting, let's quickly explain the rationale behind the naming
of the network resource modules. The newly added ACLs modules will be
plural <code>eos_acls</code>, <code>ios_acls</code>, <code>junos_acls</code>, <code>nxos_acls</code>, <code>iosxr_acls</code>. 
The older singular form modules (e.g. <code>ios_acl</code>, <code>nxos_acl</code>) will be
deprecated over time. This naming change was done so that those using
existing network modules would not have their Ansible Playbooks stop
working and have sufficient time to migrate to the new network
automation modules.</p>
<h3>Platform support</h3>
<p>This module is also available for the following Ansible-maintained
platforms on both Automation Hub (supported) and Galaxy (community):</p>
<table>
<thead><tr>
<th>Platform</th>
<th>Full Collection path</th>
<th>Automation Hub Link (requires subscription)</th>
<th>Ansible Galaxy Link</th>
</tr></thead>
<tbody>
<tr>
<td><code>Arista EOS</code></td>
<td><code>arista.eos.eos_acls</code></td>
<td><a href="https://cloud.redhat.com/ansible/automation-hub/arista/eos">Automation Hub</a></td>
<td><a href="https://galaxy.ansible.com/arista/eos">Galaxy</a></td>
</tr>
<tr>
<td><code>Cisco IOS</code></td>
<td><code>cisco.ios.ios_acls</code></td>
<td><a href="https://cloud.redhat.com/ansible/automation-hub/cisco/ios">Automation Hub</a></td>
<td><a href="https://galaxy.ansible.com/cisco/ios">Galaxy</a></td>
</tr>
<tr>
<td><code>Cisco IOS-XR</code></td>
<td><code>cisco.iosxr.iosxr_acls</code></td>
<td><a href="https://cloud.redhat.com/ansible/automation-hub/cisco/iosxr">Automation Hub</a></td>
<td><a href="https://galaxy.ansible.com/cisco/iosxr">Galaxy</a></td>
</tr>
<tr>
<td><code>Cisco NX-OS</code></td>
<td><code>cisco.nxos.nxos_acls</code></td>
<td><a href="https://cloud.redhat.com/ansible/automation-hub/cisco/nxos">Automation Hub</a></td>
<td><a href="https://galaxy.ansible.com/cisco/nxos">Galaxy</a></td>
</tr>
<tr>
<td><code>Juniper Junos</code></td>
<td><code>junipernetworks.junos.junos_acls</code></td>
<td><a href="https://cloud.redhat.com/ansible/automation-hub/juniper/networks/junos">Automation Hub</a></td>
<td><a href="https://galaxy.ansible.com/juniper/networks/junos">Galaxy</a></td>
</tr>
<tr>
<td><code>VyOS</code></td>
<td><code>vyos.vyos.vyos_firewall_rules</code></td>
<td><a href="https://cloud.redhat.com/ansible/automation-hub/vyos/vyos">Automation Hub</a></td>
<td><a href="https://galaxy.ansible.com/vyos/vyos">Galaxy</a></td>
</tr>
</tbody>
</table>
<h3>Getting started - Managing the ACL configuration with Ansible</h3>
<p>An access control list (ACL) provides rules
that are applied to port numbers and/or IP addresses  permitted to
transit or reach that network device. ACL order of access control entry
(ACE) is critical because the ACEs sequence/order route decides which
rules are applied to inbound/outbound network traffic.</p>
<p>An ACL resource module provides the same level of functionality that a
user can achieve when configuring manually on the Cisco IOS device. But
combined with Ansible facts gathering and resource module approach, this
is more closely aligned with how network professionals work day to day.</p>
<p>I'll be using an IOS router with version 15.6(3)M2 for all the
configuration of this post. Below is the initial state of router ACLs
configuration and currently there are already active ACLs configured on
the device.</p>
<h4>Network device configuration</h4>
<div class="code"><pre class="code literal-block">cisco#sh<span class="w"> </span>access-lists
Extended<span class="w"> </span>IP<span class="w"> </span>access<span class="w"> </span>list<span class="w"> </span><span class="m">110</span>
<span class="w">  </span><span class="m">10</span><span class="w"> </span>deny<span class="w"> </span>icmp<span class="w"> </span><span class="m">192</span>.0.2.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span><span class="m">192</span>.0.3.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>traceroute<span class="w"> </span>dscp<span class="w"> </span>ef<span class="w"> </span>ttl<span class="w"> </span>eq<span class="w"> </span><span class="m">10</span>
<span class="w">  </span><span class="m">20</span><span class="w"> </span>deny<span class="w"> </span>tcp<span class="w"> </span>host<span class="w"> </span><span class="m">198</span>.51.100.0<span class="w"> </span>host<span class="w"> </span><span class="m">198</span>.51.110.0<span class="w"> </span>eq<span class="w"> </span>telnet<span class="w"> </span>ack
Extended<span class="w"> </span>IP<span class="w"> </span>access<span class="w"> </span>list<span class="w"> </span>test_acl
<span class="w">  </span><span class="m">10</span><span class="w"> </span>deny<span class="w"> </span>tcp<span class="w"> </span><span class="m">192</span>.0.2.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span><span class="m">192</span>.0.3.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>eq<span class="w"> </span>www<span class="w"> </span>fin<span class="w"> </span>option<span class="w"> </span>traceroute<span class="w"> </span>ttl<span class="w"> </span>eq<span class="w"> </span><span class="m">10</span>
IPv6<span class="w"> </span>access<span class="w"> </span>list<span class="w"> </span>R1_TRAFFIC
<span class="w">  </span>deny<span class="w"> </span>tcp<span class="w"> </span>any<span class="w"> </span>eq<span class="w"> </span>www<span class="w"> </span>any<span class="w"> </span>eq<span class="w"> </span>telnet<span class="w"> </span>ack<span class="w"> </span>dscp<span class="w"> </span>af11<span class="w"> </span>sequence<span class="w"> </span><span class="m">10</span>
</pre></div>

<h3>Using state gathered - Building an Ansible inventory</h3>
<p>Resource modules allow the user to read in an existing network
configuration and convert that into a structured data model. The
<strong>state: gathered</strong> is the equivalent for gathering Ansible facts for
this specific resource. This example will read in the existing network
configuration and store it as a flat file.</p>
<h4>Ansible Playbook Example</h4>
<p>Here is an Ansible Playbook example of using <strong>state: gathered</strong> and
storing the result as YAML into host_vars.  If you are new to the
concept of Ansible inventory and want to learn more about
<code>group_vars</code> and <code>host_vars</code>, please refer
to the <a href="https://docs.ansible.com/ansible/latest/user_guide/intro_inventory.html">Ansible User Guide: Inventory.</a></p>
<div class="code"><pre class="code literal-block"><span class="nn">---</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">convert configured ACLs to structured data</span>
<span class="w">  </span><span class="nt">hosts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cisco</span>
<span class="w">  </span><span class="nt">gather_facts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">  </span><span class="nt">tasks</span><span class="p">:</span>


<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Use the ACLs resource module to gather the current config</span>
<span class="w">       </span><span class="l l-Scalar l-Scalar-Plain">cisco.ios.ios_acls</span><span class="p p-Indicator">:</span>
<span class="w">           </span><span class="nt">state</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gathered</span>
<span class="w">           </span><span class="nt">register</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">acls</span>

<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Create inventory directory</span>
<span class="w">      </span><span class="nt">file</span><span class="p">:</span>
<span class="w">       </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="s">"{{</span><span class="nv"> </span><span class="s">inventory_dir</span><span class="nv"> </span><span class="s">}}/host_vars/{{</span><span class="nv"> </span><span class="s">inventory_hostname</span><span class="nv"> </span><span class="s">}}"</span>
<span class="w">       </span><span class="nt">state</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">directory</span>

<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Write the ACL configuration to a file</span>
<span class="w">      </span><span class="nt">copy</span><span class="p">:</span>
<span class="w">        </span><span class="nt">content</span><span class="p">:</span><span class="w"> </span><span class="s">"{{</span><span class="nv"> </span><span class="s">{‘acls’:</span><span class="nv"> </span><span class="s">acls['gathered']}</span><span class="nv"> </span><span class="s">|</span><span class="nv"> </span><span class="s">to_nice_yaml</span><span class="nv"> </span><span class="s">}}"</span>
<span class="w">        </span><span class="nt">dest</span><span class="p">:</span><span class="w"> </span><span class="s">"{{</span><span class="nv"> </span><span class="s">inventory_dir</span><span class="nv"> </span><span class="s">}}/host_vars/{{</span><span class="nv"> </span><span class="s">inventory_hostname</span><span class="nv"> </span><span class="s">}}/acls.yaml"</span>
</pre></div>

<p>Execute the Ansible Playbook with the ansible-playbook command: <code>ansible-playbook example.yml</code></p>
<h4>Examine File contents</h4>
<p>Here is the data structure that was created from reading in an existing
configuration:</p>
<div class="code"><pre class="code literal-block"><span class="c1"># lab_inventory/host_vars/rtr2/acls.yaml</span>
<span class="nt">acls</span><span class="p">:</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">acls</span><span class="p">:</span>
<span class="w">     </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">aces</span><span class="p">:</span>
<span class="w">         </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">destination</span><span class="p">:</span>
<span class="w">             </span><span class="nt">address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">192.0.3.0</span>
<span class="w">             </span><span class="nt">wildcard_bits</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0.0.255</span>
<span class="w">           </span><span class="nt">dscp</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ef</span>
<span class="w">           </span><span class="nt">grant</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">deny</span>
<span class="w">           </span><span class="nt">protocol</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">icmp</span>
<span class="w">           </span><span class="nt">protocol_options</span><span class="p">:</span>
<span class="w">             </span><span class="nt">icmp</span><span class="p">:</span>
<span class="w">               </span><span class="nt">traceroute</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">           </span><span class="nt">sequence</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="w">           </span><span class="nt">source</span><span class="p">:</span>
<span class="w">             </span><span class="nt">address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">192.0.2.0</span>
<span class="w">             </span><span class="nt">wildcard_bits</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0.0.255</span>
<span class="w">           </span><span class="nt">ttl</span><span class="p">:</span>
<span class="w">             </span><span class="nt">eq</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="w">         </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">destination</span><span class="p">:</span>
<span class="w">             </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">198.51.110.0</span>
<span class="w">             </span><span class="nt">port_protocol</span><span class="p">:</span>
<span class="w">               </span><span class="nt">eq</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">telnet</span>
<span class="w">           </span><span class="nt">grant</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">deny</span>
<span class="w">           </span><span class="nt">protocol</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tcp</span>
<span class="w">           </span><span class="nt">protocol_options</span><span class="p">:</span>
<span class="w">             </span><span class="nt">tcp</span><span class="p">:</span>
<span class="w">               </span><span class="nt">ack</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">           </span><span class="nt">sequence</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">20</span>
<span class="w">           </span><span class="nt">source</span><span class="p">:</span>
<span class="w">             </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">198.51.100.0</span>
<span class="w">       </span><span class="nt">acl_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">extended</span>
<span class="w">       </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">'110'</span>
<span class="w">     </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">aces</span><span class="p">:</span>
<span class="w">         </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">destination</span><span class="p">:</span>
<span class="w">             </span><span class="nt">address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">192.0.3.0</span>
<span class="w">             </span><span class="nt">port_protocol</span><span class="p">:</span>
<span class="w">                 </span><span class="nt">eq</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">www</span>
<span class="w">             </span><span class="nt">wildcard_bits</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0.0.255</span>
<span class="w">           </span><span class="nt">grant</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">deny</span>
<span class="w">           </span><span class="nt">option</span><span class="p">:</span>
<span class="w">               </span><span class="nt">traceroute</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">           </span><span class="nt">protocol</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tcp</span>
<span class="w">           </span><span class="nt">protocol_options</span><span class="p">:</span>
<span class="w">               </span><span class="nt">tcp</span><span class="p">:</span>
<span class="w">                   </span><span class="nt">fin</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">           </span><span class="nt">sequence</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="w">           </span><span class="nt">source</span><span class="p">:</span>
<span class="w">             </span><span class="nt">address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">192.0.2.0</span>
<span class="w">             </span><span class="nt">wildcard_bits</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0.0.255</span>
<span class="w">           </span><span class="nt">ttl</span><span class="p">:</span>
<span class="w">               </span><span class="nt">eq</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="w">       </span><span class="nt">acl_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">extended</span>
<span class="w">       </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">test_acl</span>
<span class="w">  </span><span class="w w-Error"> </span><span class="nt">afi</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ipv4</span>
<span class="w w-Error"> </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">acls</span><span class="p">:</span>
<span class="w">     </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">aces</span><span class="p">:</span>
<span class="w">         </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">destination</span><span class="p">:</span>
<span class="w">             </span><span class="nt">any</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">             </span><span class="nt">port_protocol</span><span class="p">:</span>
<span class="w">               </span><span class="nt">eq</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">telnet</span>
<span class="w">           </span><span class="nt">dscp</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">af11</span>
<span class="w">           </span><span class="nt">grant</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">deny</span>
<span class="w">           </span><span class="nt">protocol</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tcp</span>
<span class="w">           </span><span class="nt">protocol_options</span><span class="p">:</span>
<span class="w">             </span><span class="nt">tcp</span><span class="p">:</span>
<span class="w">               </span><span class="nt">ack</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">           </span><span class="nt">sequence</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="w">           </span><span class="nt">source</span><span class="p">:</span>
<span class="w">             </span><span class="nt">any</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">             </span><span class="nt">port_protocol</span><span class="p">:</span>
<span class="w">               </span><span class="nt">eq</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">www</span>
<span class="w">       </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">R1_TRAFFIC</span>
<span class="w">   </span><span class="nt">afi</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ipv6</span>
</pre></div>

<p>In the above output (and future reference):</p>
<ul>
<li>
<code>afi</code> refers to address family identifier, either IPv4 or IPv6</li>
<li>
<code>acls</code> refers to access control lists, and returns a list of dictionaries (ACEs)</li>
<li>
<code>aces</code> refers to access control entry, or the specific rule and sequence</li>
</ul>
<h3>Using state merged - Pushing configuration changes</h3>
<p>The state merged will take your Ansible configuration data (for example
Ansible variables) and merges them into the network device's network
configuration. This will not affect existing configuration not specified
in your Ansible configuration data. Let's walk through an example.</p>
<h4>Modify stored file</h4>
<p>We will modify the flat file created in the first example. We will then
create an Ansible Playbook to merge this new configuration into the
network device's running configuration.</p>
<p>Reference link:</p>
<p>https://gist.githubusercontent.com/justjais/bb2a65c373ab4e64d1eeb47bc425c613/raw/056d2a6a44910863cbbbf38cad2273435574db84/Merged.txt</p>
<div class="code"><pre class="code literal-block"><span class="nt">acls</span><span class="p">:</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">afi</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ipv4</span>
<span class="w">  </span><span class="nt">acls</span><span class="p">:</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">std_acl</span>
<span class="w">     </span><span class="nt">acl_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">standard</span>
<span class="w">     </span><span class="nt">aces</span><span class="p">:</span>
<span class="w">       </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">grant</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">deny</span>
<span class="w">         </span><span class="nt">source</span><span class="p">:</span>
<span class="w">           </span><span class="nt">address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">192.168.1.200</span>
<span class="w">       </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">grant</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">deny</span>
<span class="w">         </span><span class="nt">source</span><span class="p">:</span>
<span class="w">           </span><span class="nt">address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">192.168.2.0</span>
<span class="w">           </span><span class="nt">wildcard_bits</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0.0.255</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">110</span>
<span class="w">     </span><span class="nt">aces</span><span class="p">:</span>
<span class="w">       </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">grant</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">deny</span>
<span class="w">         </span><span class="nt">sequence</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="w">         </span><span class="nt">protocol_options</span><span class="p">:</span>
<span class="w">           </span><span class="nt">icmp</span><span class="p">:</span>
<span class="w">             </span><span class="nt">traceroute</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">         </span><span class="nt">source</span><span class="p">:</span>
<span class="w">           </span><span class="nt">address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">192.0.2.0</span>
<span class="w">           </span><span class="nt">wildcard_bits</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0.0.255</span>
<span class="w">         </span><span class="nt">destination</span><span class="p">:</span>
<span class="w">           </span><span class="nt">address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">192.0.3.0</span>
<span class="w">           </span><span class="nt">wildcard_bits</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0.0.255</span>
<span class="w">         </span><span class="nt">dscp</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ef</span>
<span class="w">         </span><span class="nt">ttl</span><span class="p">:</span>
<span class="w">           </span><span class="nt">eq</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="w">       </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">grant</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">deny</span>
<span class="w">         </span><span class="nt">protocol_options</span><span class="p">:</span>
<span class="w">           </span><span class="nt">tcp</span><span class="p">:</span>
<span class="w">             </span><span class="nt">ack</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">         </span><span class="nt">source</span><span class="p">:</span>
<span class="w">           </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">198.51.100.0</span>
<span class="w">         </span><span class="nt">destination</span><span class="p">:</span>
<span class="w">           </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">198.51.110.0</span>
<span class="w">           </span><span class="nt">port_protocol</span><span class="p">:</span>
<span class="w">             </span><span class="nt">eq</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">telnet</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">test</span>
<span class="w">     </span><span class="nt">acl_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">extended</span>
<span class="w">     </span><span class="nt">aces</span><span class="p">:</span>
<span class="w">       </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">grant</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">deny</span>
<span class="w">         </span><span class="nt">protocol_options</span><span class="p">:</span>
<span class="w">           </span><span class="nt">tcp</span><span class="p">:</span>
<span class="w">             </span><span class="nt">fin</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">         </span><span class="nt">source</span><span class="p">:</span>
<span class="w">           </span><span class="nt">address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">192.0.2.0</span>
<span class="w">           </span><span class="nt">wildcard_bits</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0.0.255</span>
<span class="w">         </span><span class="nt">destination</span><span class="p">:</span>
<span class="w">           </span><span class="nt">address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">192.0.3.0</span>
<span class="w">           </span><span class="nt">wildcard_bits</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0.0.255</span>
<span class="w">           </span><span class="nt">port_protocol</span><span class="p">:</span>
<span class="w">             </span><span class="nt">eq</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">www</span>
<span class="w">         </span><span class="nt">option</span><span class="p">:</span>
<span class="w">           </span><span class="nt">traceroute</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">         </span><span class="nt">ttl</span><span class="p">:</span>
<span class="w">           </span><span class="nt">eq</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">123</span>
<span class="w">     </span><span class="nt">aces</span><span class="p">:</span>
<span class="w">       </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">grant</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">deny</span>
<span class="w">         </span><span class="nt">protocol_options</span><span class="p">:</span>
<span class="w">           </span><span class="nt">tcp</span><span class="p">:</span>
<span class="w">             </span><span class="nt">ack</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">         </span><span class="nt">source</span><span class="p">:</span>
<span class="w">           </span><span class="nt">address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">198.51.100.0</span>
<span class="w">           </span><span class="nt">wildcard_bits</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0.0.255</span>
<span class="w">         </span><span class="nt">destination</span><span class="p">:</span>
<span class="w">           </span><span class="nt">address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">198.51.101.0</span>
<span class="w">           </span><span class="nt">wildcard_bits</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0.0.255</span>
<span class="w">           </span><span class="nt">port_protocol</span><span class="p">:</span>
<span class="w">             </span><span class="nt">eq</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">telnet</span>
<span class="w">         </span><span class="nt">tos</span><span class="p">:</span>
<span class="w">           </span><span class="nt">service_value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">12</span>
<span class="w">     </span><span class="w w-Error"> </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">grant</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">deny</span>
<span class="w">         </span><span class="l l-Scalar l-Scalar-Plain">protocol_options</span><span class="p p-Indicator">:</span>
<span class="w">           </span><span class="nt">tcp</span><span class="p">:</span>
<span class="w">             </span><span class="nt">ack</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">        </span><span class="w w-Error"> </span><span class="nt">source</span><span class="p">:</span>
<span class="w">           </span><span class="nt">address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">192.0.3.0</span>
<span class="w">           </span><span class="nt">wildcard_bits</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0.0.255</span>
<span class="w">         </span><span class="nt">destination</span><span class="p">:</span>
<span class="w">           </span><span class="nt">address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">192.0.4.0</span>
<span class="w">           </span><span class="nt">wildcard_bits</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0.0.255</span>
<span class="w">           </span><span class="nt">port_protocol</span><span class="p">:</span>
<span class="w">             </span><span class="nt">eq</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">www</span>
<span class="w">         </span><span class="nt">dscp</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ef</span>
<span class="w">         </span><span class="nt">ttl</span><span class="p">:</span>
<span class="w">           </span><span class="nt">lt</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">20</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">afi</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ipv6</span>
<span class="w">  </span><span class="nt">acls</span><span class="p">:</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">R1_TRAFFIC</span>
<span class="w">     </span><span class="nt">aces</span><span class="p">:</span>
<span class="w">       </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">grant</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">deny</span>
<span class="w">         </span><span class="nt">protocol_options</span><span class="p">:</span>
<span class="w">           </span><span class="nt">tcp</span><span class="p">:</span>
<span class="w">             </span><span class="nt">ack</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">         </span><span class="nt">source</span><span class="p">:</span>
<span class="w">           </span><span class="nt">any</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">           </span><span class="nt">port_protocol</span><span class="p">:</span>
<span class="w">             </span><span class="nt">eq</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">www</span>
<span class="w">         </span><span class="nt">destination</span><span class="p">:</span>
<span class="w">           </span><span class="nt">any</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">           </span><span class="nt">port_protocol</span><span class="p">:</span>
<span class="w">             </span><span class="nt">eq</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">telnet</span>
<span class="w">         </span><span class="nt">dscp</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">af11</span>
</pre></div>

<p>Ansible Playbook Example:</p>
<div class="code"><pre class="code literal-block"><span class="nn">---</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Merged state play</span>
<span class="w">  </span><span class="nt">hosts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cisco</span>
<span class="w">  </span><span class="nt">gather_facts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">  </span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Merge ACLs config with device existing ACLs config</span>
<span class="w">      </span><span class="nt">cisco.ios.ios_acls</span><span class="p">:</span>
<span class="w">        </span><span class="nt">state</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">merged</span>
<span class="w">        </span><span class="nt">config</span><span class="p">:</span><span class="w"> </span><span class="s">"{{</span><span class="nv"> </span><span class="s">acls</span><span class="nv"> </span><span class="s">}}"</span>
</pre></div>

<p>Once we run the respective Merge play, all of the provided parameters
will be configured on the Cisco IOS router with Ansible <strong>changed=True</strong></p>
<p>Network device configuration:</p>
<div class="code"><pre class="code literal-block">cisco#sh<span class="w"> </span>access-lists
Standard<span class="w"> </span>IP<span class="w"> </span>access<span class="w"> </span>list<span class="w"> </span>std_acl
<span class="w">   </span><span class="m">10</span><span class="w"> </span>deny<span class="w">   </span><span class="m">192</span>.168.1.200
<span class="w">   </span><span class="m">20</span><span class="w"> </span>deny<span class="w">   </span><span class="m">192</span>.168.2.0,<span class="w"> </span>wildcard<span class="w"> </span>bits<span class="w"> </span><span class="m">0</span>.0.0.255
Extended<span class="w"> </span>IP<span class="w"> </span>access<span class="w"> </span>list<span class="w"> </span><span class="m">110</span>
<span class="w">   </span><span class="m">10</span><span class="w"> </span>deny<span class="w"> </span>icmp<span class="w"> </span><span class="m">192</span>.0.2.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span><span class="m">192</span>.0.3.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>traceroute<span class="w"> </span>dscp<span class="w"> </span>ef<span class="w"> </span>ttl<span class="w"> </span>eq<span class="w"> </span><span class="m">10</span>
<span class="w">   </span><span class="m">20</span><span class="w"> </span>deny<span class="w"> </span>tcp<span class="w"> </span>host<span class="w"> </span><span class="m">198</span>.51.100.0<span class="w"> </span>host<span class="w"> </span><span class="m">198</span>.51.110.0<span class="w"> </span>eq<span class="w"> </span>telnet<span class="w"> </span>ack
Extended<span class="w"> </span>IP<span class="w"> </span>access<span class="w"> </span>list<span class="w"> </span><span class="m">123</span>
<span class="w">   </span><span class="m">10</span><span class="w"> </span>deny<span class="w"> </span>tcp<span class="w"> </span><span class="m">198</span>.51.100.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span><span class="m">198</span>.51.101.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>eq<span class="w"> </span>telnet<span class="w"> </span>ack<span class="w"> </span>tos<span class="w"> </span><span class="m">12</span>
<span class="w">   </span><span class="m">20</span><span class="w"> </span>deny<span class="w"> </span>tcp<span class="w"> </span><span class="m">192</span>.0.3.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span><span class="m">192</span>.0.4.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>eq<span class="w"> </span>www<span class="w"> </span>ack<span class="w"> </span>dscp<span class="w"> </span>ef<span class="w"> </span>ttl<span class="w"> </span>lt<span class="w"> </span><span class="m">20</span>
Extended<span class="w"> </span>IP<span class="w"> </span>access<span class="w"> </span>list<span class="w"> </span><span class="nb">test</span>
<span class="w">   </span><span class="m">10</span><span class="w"> </span>deny<span class="w"> </span>tcp<span class="w"> </span><span class="m">192</span>.0.2.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span><span class="m">192</span>.0.3.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>eq<span class="w"> </span>www<span class="w"> </span>fin<span class="w"> </span>option<span class="w"> </span>traceroute<span class="w"> </span>ttl<span class="w"> </span>eq<span class="w"> </span><span class="m">10</span>
IPv6<span class="w"> </span>access<span class="w"> </span>list<span class="w"> </span>R1_TRAFFIC
<span class="w">   </span>deny<span class="w"> </span>tcp<span class="w"> </span>any<span class="w"> </span>eq<span class="w"> </span>www<span class="w"> </span>any<span class="w"> </span>eq<span class="w"> </span>telnet<span class="w"> </span>ack<span class="w"> </span>dscp<span class="w"> </span>af11<span class="w"> </span>sequence<span class="w"> </span><span class="m">10</span>
</pre></div>

<p>If we dig slightly into the device output, we make the following
observations:</p>
<ul>
<li>Based on the AFI value, it's decided by the module to call IP/IPV6
    access-lists. </li>
<li>The 'acl_type' key is required for named ACLs.</li>
<li>For ACLs identified by a number rather than a name, the 'acl_type'
    is derived from the platform's documented ACL number ranges. (eg
    Standard = 1--99 and 1300--1999, Extended = 100--199 and 2000--2699,
    etc)</li>
<li>If the sequence number is not mentioned in the ACE, it will be
    configured based on the order provided in the play. </li>
<li>With the second run, the respective Merge Play runs again and
    Ansible charm of Idempotency comes to picture, and if nothing's
    changed, play run results into changed=False, which confirms to the
    user that all of the provided configurations in the play are already
    configured on the IOS device.</li>
</ul>
<h3>Using state replaced - Pushing configuration changes</h3>
<p>The replaced parameter enforces the data model on the network device
for each configured ACL/ACE. If we modify any of the ACL/ACEs, it will
enforce all the parameters this resource module is aware of. To think of
this another way, the replaced parameter is aware of all the commands
that should and shouldn't be there.</p>
<p>For this scenario, an ACL with some ACEs is already configured on the
Cisco IOS device, and now the user wants to update the ACL with a new
set of ACEs and discard all the already configured ACL ACEs. The
resource module that replaced "s" will replace ACL existing ACEs with a
new set of ACEs given as input by the user.</p>
<p>Ref gist link:</p>
<p>https://gist.githubusercontent.com/justjais/bb2a65c373ab4e64d1eeb47bc425c613/raw/056d2a6a44910863cbbbf38cad2273435574db84/Replaced.txt</p>
<div class="code"><pre class="code literal-block"><span class="nt">acls</span><span class="p">:</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">afi</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ipv4</span>
<span class="w">  </span><span class="nt">acls</span><span class="p">:</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">110</span>
<span class="w">     </span><span class="nt">aces</span><span class="p">:</span>
<span class="w">       </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">grant</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">deny</span>
<span class="w">         </span><span class="nt">protocol_options</span><span class="p">:</span>
<span class="w">           </span><span class="nt">tcp</span><span class="p">:</span>
<span class="w">             </span><span class="nt">syn</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">         </span><span class="nt">source</span><span class="p">:</span>
<span class="w">           </span><span class="nt">address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">192.0.2.0</span>
<span class="w">           </span><span class="nt">wildcard_bits</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0.0.255</span>
<span class="w">         </span><span class="nt">destination</span><span class="p">:</span>
<span class="w">           </span><span class="nt">address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">192.0.3.0</span>
<span class="w">           </span><span class="nt">wildcard_bits</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0.0.255</span>
<span class="w">           </span><span class="nt">port_protocol</span><span class="p">:</span>
<span class="w">             </span><span class="nt">eq</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">www</span>
<span class="w">         </span><span class="nt">dscp</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ef</span>
<span class="w">         </span><span class="nt">ttl</span><span class="p">:</span>
<span class="w">           </span><span class="nt">eq</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">150</span>
<span class="w">     </span><span class="nt">aces</span><span class="p">:</span>
<span class="w">       </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">grant</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">deny</span>
<span class="w">         </span><span class="nt">sequence</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">20</span>
<span class="w">         </span><span class="nt">protocol_options</span><span class="p">:</span>
<span class="w">           </span><span class="nt">tcp</span><span class="p">:</span>
<span class="w">             </span><span class="nt">syn</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">         </span><span class="nt">source</span><span class="p">:</span>
<span class="w">           </span><span class="nt">address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">198.51.100.0</span>
<span class="w">           </span><span class="nt">wildcard_bits</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0.0.255</span>
<span class="w">           </span><span class="nt">port_protocol</span><span class="p">:</span>
<span class="w">             </span><span class="nt">eq</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">telnet</span>
<span class="w">         </span><span class="nt">destination</span><span class="p">:</span>
<span class="w">           </span><span class="nt">address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">198.51.110.0</span>
<span class="w">           </span><span class="nt">wildcard_bits</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0.0.255</span>
<span class="w">           </span><span class="nt">port_protocol</span><span class="p">:</span>
<span class="w">             </span><span class="nt">eq</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">telnet</span>
<span class="w">         </span><span class="nt">dscp</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ef</span>
<span class="w">         </span><span class="nt">ttl</span><span class="p">:</span>
<span class="w">           </span><span class="nt">eq</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
</pre></div>

<p>Ansible Playbook Example</p>
<div class="code"><pre class="code literal-block"><span class="nn">---</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Replaced state play</span>
<span class="w">  </span><span class="nt">hosts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cisco</span>
<span class="w">  </span><span class="nt">gather_facts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">  </span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Replace ACLs config with device existing ACLs config</span>
<span class="w">      </span><span class="nt">cisco.ios.ios_acls</span><span class="p">:</span>
<span class="w">        </span><span class="nt">state</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">replaced</span>
<span class="w">        </span><span class="nt">config</span><span class="p">:</span><span class="w"> </span><span class="s">"{{</span><span class="nv"> </span><span class="s">acls</span><span class="nv"> </span><span class="s">}}"</span>
</pre></div>

<p>With the above play, the user is replacing the 123 extended ACL with
the provided ACL ACEs configuration and also configuring the 150
extended new ACL ACEs.</p>
<p>Before running the <code>replaced</code> play network device configuration:</p>
<div class="code"><pre class="code literal-block">cisco#sh<span class="w"> </span>access-lists
Standard<span class="w"> </span>IP<span class="w"> </span>access<span class="w"> </span>list<span class="w"> </span>std_acl
<span class="w">   </span><span class="m">10</span><span class="w"> </span>deny<span class="w">   </span><span class="m">192</span>.168.1.200
<span class="w">   </span><span class="m">20</span><span class="w"> </span>deny<span class="w">   </span><span class="m">192</span>.168.2.0,<span class="w"> </span>wildcard<span class="w"> </span>bits<span class="w"> </span><span class="m">0</span>.0.0.255
Extended<span class="w"> </span>IP<span class="w"> </span>access<span class="w"> </span>list<span class="w"> </span><span class="m">110</span>
<span class="w">   </span><span class="m">10</span><span class="w"> </span>deny<span class="w"> </span>icmp<span class="w"> </span><span class="m">192</span>.0.2.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span><span class="m">192</span>.0.3.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>traceroute<span class="w"> </span>dscp<span class="w"> </span>ef<span class="w"> </span>ttl<span class="w"> </span>eq<span class="w"> </span><span class="m">10</span>
<span class="w">   </span><span class="m">20</span><span class="w"> </span>deny<span class="w"> </span>tcp<span class="w"> </span>host<span class="w"> </span><span class="m">198</span>.51.100.0<span class="w"> </span>host<span class="w"> </span><span class="m">198</span>.51.110.0<span class="w"> </span>eq<span class="w"> </span>telnet<span class="w"> </span>ack
Extended<span class="w"> </span>IP<span class="w"> </span>access<span class="w"> </span>list<span class="w"> </span><span class="m">123</span>
<span class="w">   </span><span class="m">10</span><span class="w"> </span>deny<span class="w"> </span>tcp<span class="w"> </span><span class="m">198</span>.51.100.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span><span class="m">198</span>.51.101.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>eq<span class="w"> </span>telnet<span class="w"> </span>ack<span class="w"> </span>tos<span class="w"> </span><span class="m">12</span>
<span class="w">   </span><span class="m">20</span><span class="w"> </span>deny<span class="w"> </span>tcp<span class="w"> </span><span class="m">192</span>.0.3.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span><span class="m">192</span>.0.4.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>eq<span class="w"> </span>www<span class="w"> </span>ack<span class="w"> </span>dscp<span class="w"> </span>ef<span class="w"> </span>ttl<span class="w"> </span>lt<span class="w"> </span><span class="m">20</span>
Extended<span class="w"> </span>IP<span class="w"> </span>access<span class="w"> </span>list<span class="w"> </span><span class="nb">test</span>
<span class="w">   </span><span class="m">10</span><span class="w"> </span>deny<span class="w"> </span>tcp<span class="w"> </span><span class="m">192</span>.0.2.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span><span class="m">192</span>.0.3.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>eq<span class="w"> </span>www<span class="w"> </span>fin<span class="w"> </span>option<span class="w"> </span>traceroute<span class="w"> </span>ttl<span class="w"> </span>eq<span class="w"> </span><span class="m">10</span>
IPv6<span class="w"> </span>access<span class="w"> </span>list<span class="w"> </span>R1_TRAFFIC
<span class="w">   </span>deny<span class="w"> </span>tcp<span class="w"> </span>any<span class="w"> </span>eq<span class="w"> </span>www<span class="w"> </span>any<span class="w"> </span>eq<span class="w"> </span>telnet<span class="w"> </span>ack<span class="w"> </span>dscp<span class="w"> </span>af11<span class="w"> </span>sequence<span class="w"> </span><span class="m">10</span>
</pre></div>

<p>With replaced Play run, commands that are fired:</p>
<div class="code"><pre class="code literal-block">-<span class="w"> </span>ip<span class="w"> </span>access-list<span class="w"> </span>extended<span class="w"> </span><span class="m">110</span>
-<span class="w"> </span>no<span class="w"> </span><span class="m">10</span>
-<span class="w"> </span>no<span class="w"> </span><span class="m">20</span>
-<span class="w"> </span>deny<span class="w"> </span>tcp<span class="w"> </span><span class="m">192</span>.0.2.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span><span class="m">192</span>.0.3.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>eq<span class="w"> </span>www<span class="w"> </span>syn<span class="w"> </span>dscp<span class="w"> </span>ef<span class="w"> </span>ttl<span class="w"> </span>eq<span class="w"> </span><span class="m">10</span>
-<span class="w"> </span>ip<span class="w"> </span>access-list<span class="w"> </span>extended<span class="w"> </span><span class="m">150</span>
-<span class="w"> </span><span class="m">20</span><span class="w"> </span>deny<span class="w"> </span>tcp<span class="w"> </span><span class="m">198</span>.51.100.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>eq<span class="w"> </span>telnet<span class="w"> </span><span class="m">198</span>.51.110.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>eq<span class="w"> </span>telnet<span class="w"> </span>syn<span class="w">  </span>dscp<span class="w"> </span>ef<span class="w"> </span>ttl<span class="w"> </span>eq<span class="w"> </span><span class="m">10</span>
</pre></div>

<p>After running the replaced play network device configuration:</p>
<div class="code"><pre class="code literal-block">cisco#sh<span class="w"> </span>access-lists
Standard<span class="w"> </span>IP<span class="w"> </span>access<span class="w"> </span>list<span class="w"> </span>std_acl
<span class="w">   </span><span class="m">10</span><span class="w"> </span>deny<span class="w">   </span><span class="m">192</span>.168.1.200
<span class="w">   </span><span class="m">20</span><span class="w"> </span>deny<span class="w">   </span><span class="m">192</span>.168.2.0,<span class="w"> </span>wildcard<span class="w"> </span>bits<span class="w"> </span><span class="m">0</span>.0.0.255
Extended<span class="w"> </span>IP<span class="w"> </span>access<span class="w"> </span>list<span class="w"> </span><span class="m">110</span>
<span class="w">   </span><span class="m">10</span><span class="w"> </span>deny<span class="w"> </span>tcp<span class="w"> </span><span class="m">192</span>.0.2.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span><span class="m">192</span>.0.3.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>eq<span class="w"> </span>www<span class="w"> </span>syn<span class="w"> </span>dscp<span class="w"> </span>ef<span class="w"> </span>ttl<span class="w"> </span>eq<span class="w"> </span><span class="m">10</span>
Extended<span class="w"> </span>IP<span class="w"> </span>access<span class="w"> </span>list<span class="w"> </span><span class="m">123</span>
<span class="w">   </span><span class="m">10</span><span class="w"> </span>deny<span class="w"> </span>tcp<span class="w"> </span><span class="m">198</span>.51.100.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span><span class="m">198</span>.51.101.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>eq<span class="w"> </span>telnet<span class="w"> </span>ack<span class="w"> </span>tos<span class="w"> </span><span class="m">12</span>
<span class="w">   </span><span class="m">20</span><span class="w"> </span>deny<span class="w"> </span>tcp<span class="w"> </span><span class="m">192</span>.0.3.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span><span class="m">192</span>.0.4.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>eq<span class="w"> </span>www<span class="w"> </span>ack<span class="w"> </span>dscp<span class="w"> </span>ef<span class="w"> </span>ttl<span class="w"> </span>lt<span class="w"> </span><span class="m">20</span>
Extended<span class="w"> </span>IP<span class="w"> </span>access<span class="w"> </span>list<span class="w"> </span><span class="m">150</span>
<span class="w">   </span><span class="m">20</span><span class="w"> </span>deny<span class="w"> </span>tcp<span class="w"> </span><span class="m">198</span>.51.100.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>eq<span class="w"> </span>telnet<span class="w"> </span><span class="m">198</span>.51.110.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>eq<span class="w"> </span>telnet<span class="w"> </span>syn<span class="w"> </span>dscp<span class="w"> </span>ef<span class="w"> </span>ttl<span class="w"> </span>eq<span class="w"> </span><span class="m">10</span>
Extended<span class="w"> </span>IP<span class="w"> </span>access<span class="w"> </span>list<span class="w"> </span><span class="nb">test</span>
<span class="w">   </span><span class="m">10</span><span class="w"> </span>deny<span class="w"> </span>tcp<span class="w"> </span><span class="m">192</span>.0.2.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span><span class="m">192</span>.0.3.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>eq<span class="w"> </span>www<span class="w"> </span>fin<span class="w"> </span>option<span class="w"> </span>traceroute<span class="w"> </span>ttl<span class="w"> </span>eq<span class="w"> </span><span class="m">10</span>
IPv6<span class="w"> </span>access<span class="w"> </span>list<span class="w"> </span>R1_TRAFFIC
<span class="w">   </span>deny<span class="w"> </span>tcp<span class="w"> </span>any<span class="w"> </span>eq<span class="w"> </span>www<span class="w"> </span>any<span class="w"> </span>eq<span class="w"> </span>telnet<span class="w"> </span>ack<span class="w"> </span>dscp<span class="w"> </span>af11<span class="w"> </span>sequence<span class="w"> </span><span class="m">10</span>
</pre></div>

<p>If we dig the output briefly, we may have following observation:</p>
<ul>
<li>
<code>replaced</code> will negate
    all the pre-existing ACEs under the input ACL and then apply the
    configuration provided as input in the play. The same behaviour can
    be seen in the commands output above for numbered ACL 123, where the
    pre-existing ACEs at sequence 10 and 20 are negated first before
    applying the changes for newer ACE configuration.</li>
<li>For the 150 extended ACL ACEs, since it wasn't already
    pre-configured on the device, the module goes ahead and applies the
    ACE configuration provided as input in the play. One thing to note
    here is that in the play input configuration value to sequence is
    mentioned as 20, and as a result ACE is configured on sequence 20
    instead of 10, which would have been the case if value to sequence
    wasn't provided by the user.</li>
</ul>
<p>With the second run of the above play, changed comes as false, which
satisfies the Ansible idempotency.</p>
<h3>Using state overridden - Pushing configuration changes</h3>
<p>For this example, we will mix it up slightly. Pretend you are a user
making a bespoke configuration on the network device (making a change
outside of automation).  The <code>state: overridden</code> will circle
back on enforcing the data model (configuration policy enforcement) and
remove the bespoke change.</p>
<p>If the user wants to re-configure the Cisco IOS device entirely
pre-configured ACLs, then resource module overridden state is the most
appropriate. When using the overridden state, a user can override all
ACLs with user provided ACLs.</p>
<p>To show the difference between replaced and overridden state working, we
will be using the same play that we used for the replaced scenario,
keeping the pre-existing configuration the same as well.</p>
<p>Ref gist link:</p>
<p>https://gist.githubusercontent.com/justjais/bb2a65c373ab4e64d1eeb47bc425c613/raw/056d2a6a44910863cbbbf38cad2273435574db84/Overridden.txt</p>
<p>ACLs configuration:</p>
<div class="code"><pre class="code literal-block"><span class="nt">acls</span><span class="p">:</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">afi</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ipv4</span>
<span class="w">  </span><span class="nt">acls</span><span class="p">:</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">110</span>
<span class="w">     </span><span class="nt">aces</span><span class="p">:</span>
<span class="w">       </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">grant</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">deny</span>
<span class="w">         </span><span class="nt">sequence</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">20</span>
<span class="w">         </span><span class="nt">protocol_options</span><span class="p">:</span>
<span class="w">           </span><span class="nt">tcp</span><span class="p">:</span>
<span class="w">             </span><span class="nt">ack</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">         </span><span class="nt">source</span><span class="p">:</span>
<span class="w">           </span><span class="nt">address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">198.51.100.0</span>
<span class="w">           </span><span class="nt">wildcard_bits</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0.0.255</span>
<span class="w">           </span><span class="nt">port_protocol</span><span class="p">:</span>
<span class="w">             </span><span class="nt">eq</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">telnet</span>
<span class="w">         </span><span class="nt">destination</span><span class="p">:</span>
<span class="w">           </span><span class="nt">address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">198.51.110.0</span>
<span class="w">           </span><span class="nt">wildcard_bits</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0.0.255</span>
<span class="w">           </span><span class="nt">port_protocol</span><span class="p">:</span>
<span class="w">             </span><span class="nt">eq</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">www</span>
<span class="w">         </span><span class="nt">dscp</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ef</span>
<span class="w">         </span><span class="nt">ttl</span><span class="p">:</span>
<span class="w">           </span><span class="nt">eq</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">150</span>
<span class="w">     </span><span class="nt">aces</span><span class="p">:</span>
<span class="w">       </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">grant</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">deny</span>
<span class="w">         </span><span class="nt">sequence</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="w">         </span><span class="nt">protocol_options</span><span class="p">:</span>
<span class="w">           </span><span class="nt">tcp</span><span class="p">:</span>
<span class="w">             </span><span class="nt">syn</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">         </span><span class="nt">source</span><span class="p">:</span>
<span class="w">           </span><span class="nt">address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">198.51.100.0</span>
<span class="w">           </span><span class="nt">wildcard_bits</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0.0.255</span>
<span class="w">           </span><span class="nt">port_protocol</span><span class="p">:</span>
<span class="w">             </span><span class="nt">eq</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">telnet</span>
<span class="w">         </span><span class="nt">destination</span><span class="p">:</span>
<span class="w">           </span><span class="nt">address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">198.51.110.0</span>
<span class="w">           </span><span class="nt">wildcard_bits</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0.0.255</span>
<span class="w">           </span><span class="nt">port_protocol</span><span class="p">:</span>
<span class="w">             </span><span class="nt">eq</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">telnet</span>
<span class="w">         </span><span class="nt">dscp</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ef</span>
<span class="w">         </span><span class="nt">ttl</span><span class="p">:</span>
<span class="w">           </span><span class="nt">eq</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
</pre></div>

<p>Ansible Playbook Example</p>
<div class="code"><pre class="code literal-block"><span class="nn">---</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Overridden state play</span>
<span class="w">  </span><span class="nt">hosts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cisco</span>
<span class="w">  </span><span class="nt">gather_facts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">  </span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Override ACLs config with device existing ACLs config</span>
<span class="w">      </span><span class="nt">cisco.ios.ios_acls</span><span class="p">:</span>
<span class="w">        </span><span class="nt">state</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">overridden</span>
<span class="w">        </span><span class="nt">config</span><span class="p">:</span><span class="w"> </span><span class="s">"{{</span><span class="nv"> </span><span class="s">acls</span><span class="nv"> </span><span class="s">}}"</span>
</pre></div>

<p>With the above play, the user is replacing the 123 extended ACL with
the provided ACL ACEs configuration and also configuring the 150
extended new ACL ACEs.</p>
<p>Before running the <code>Overridden</code> play network device configuration:</p>
<div class="code"><pre class="code literal-block">cisco#sh<span class="w"> </span>access-lists
Standard<span class="w"> </span>IP<span class="w"> </span>access<span class="w"> </span>list<span class="w"> </span>std_acl
<span class="w">   </span><span class="m">10</span><span class="w"> </span>deny<span class="w">   </span><span class="m">192</span>.168.1.200
<span class="w">   </span><span class="m">20</span><span class="w"> </span>deny<span class="w">   </span><span class="m">192</span>.168.2.0,<span class="w"> </span>wildcard<span class="w"> </span>bits<span class="w"> </span><span class="m">0</span>.0.0.255
Extended<span class="w"> </span>IP<span class="w"> </span>access<span class="w"> </span>list<span class="w"> </span><span class="m">110</span>
<span class="w">   </span><span class="m">10</span><span class="w"> </span>deny<span class="w"> </span>icmp<span class="w"> </span><span class="m">192</span>.0.2.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span><span class="m">192</span>.0.3.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>traceroute<span class="w"> </span>dscp<span class="w"> </span>ef<span class="w"> </span>ttl<span class="w"> </span>eq<span class="w"> </span><span class="m">10</span>
<span class="w">   </span><span class="m">20</span><span class="w"> </span>deny<span class="w"> </span>tcp<span class="w"> </span>host<span class="w"> </span><span class="m">198</span>.51.100.0<span class="w"> </span>host<span class="w"> </span><span class="m">198</span>.51.110.0<span class="w"> </span>eq<span class="w"> </span>telnet<span class="w"> </span>ack
Extended<span class="w"> </span>IP<span class="w"> </span>access<span class="w"> </span>list<span class="w"> </span><span class="m">123</span>
<span class="w">   </span><span class="m">10</span><span class="w"> </span>deny<span class="w"> </span>tcp<span class="w"> </span><span class="m">198</span>.51.100.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span><span class="m">198</span>.51.101.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>eq<span class="w"> </span>telnet<span class="w"> </span>ack<span class="w"> </span>tos<span class="w"> </span><span class="m">12</span>
<span class="w">   </span><span class="m">20</span><span class="w"> </span>deny<span class="w"> </span>tcp<span class="w"> </span><span class="m">192</span>.0.3.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span><span class="m">192</span>.0.4.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>eq<span class="w"> </span>www<span class="w"> </span>ack<span class="w"> </span>dscp<span class="w"> </span>ef<span class="w"> </span>ttl<span class="w"> </span>lt<span class="w"> </span><span class="m">20</span>
Extended<span class="w"> </span>IP<span class="w"> </span>access<span class="w"> </span>list<span class="w"> </span><span class="nb">test</span>
<span class="w">   </span><span class="m">10</span><span class="w"> </span>deny<span class="w"> </span>tcp<span class="w"> </span><span class="m">192</span>.0.2.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span><span class="m">192</span>.0.3.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>eq<span class="w"> </span>www<span class="w"> </span>fin<span class="w"> </span>option<span class="w"> </span>traceroute<span class="w"> </span>ttl<span class="w"> </span>eq<span class="w"> </span><span class="m">10</span>
IPv6<span class="w"> </span>access<span class="w"> </span>list<span class="w"> </span>R1_TRAFFIC
<span class="w">   </span>deny<span class="w"> </span>tcp<span class="w"> </span>any<span class="w"> </span>eq<span class="w"> </span>www<span class="w"> </span>any<span class="w"> </span>eq<span class="w"> </span>telnet<span class="w"> </span>ack<span class="w"> </span>dscp<span class="w"> </span>af11<span class="w"> </span>sequence<span class="w"> </span><span class="m">10</span>
</pre></div>

<p>With <code>Overridden</code> play run, commands that are sent:</p>
<div class="code"><pre class="code literal-block">-<span class="w"> </span>no<span class="w"> </span>ip<span class="w"> </span>access-list<span class="w"> </span>standard<span class="w"> </span>std_acl
-<span class="w"> </span>no<span class="w"> </span>ip<span class="w"> </span>access-list<span class="w"> </span>extended<span class="w"> </span><span class="m">110</span>
-<span class="w"> </span>no<span class="w"> </span>ip<span class="w"> </span>access-list<span class="w"> </span>extended<span class="w"> </span><span class="m">123</span>
-<span class="w"> </span>no<span class="w"> </span>ip<span class="w"> </span>access-list<span class="w"> </span>extended<span class="w"> </span><span class="m">150</span>
-<span class="w"> </span>no<span class="w"> </span>ip<span class="w"> </span>access-list<span class="w"> </span>extended<span class="w"> </span><span class="nb">test</span>
-<span class="w"> </span>no<span class="w"> </span>ipv6<span class="w"> </span>access-list<span class="w"> </span>R1_TRAFFIC
-<span class="w"> </span>ip<span class="w"> </span>access-list<span class="w"> </span>extended<span class="w"> </span><span class="m">150</span>
-<span class="w"> </span><span class="m">10</span><span class="w"> </span>deny<span class="w"> </span>tcp<span class="w"> </span><span class="m">198</span>.51.100.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>eq<span class="w"> </span>telnet<span class="w"> </span><span class="m">198</span>.51.110.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>eq<span class="w"> </span>telnet<span class="w"> </span>syn<span class="w"> </span>dscp<span class="w"> </span>ef<span class="w"> </span>ttl<span class="w"> </span>eq<span class="w"> </span><span class="m">10</span>
-<span class="w"> </span>ip<span class="w"> </span>access-list<span class="w"> </span>extended<span class="w"> </span><span class="m">110</span>
-<span class="w"> </span><span class="m">20</span><span class="w"> </span>deny<span class="w"> </span>tcp<span class="w"> </span><span class="m">198</span>.51.100.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>eq<span class="w"> </span>telnet<span class="w"> </span><span class="m">198</span>.51.110.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>eq<span class="w"> </span>www<span class="w"> </span>ack<span class="w"> </span>dscp<span class="w"> </span>ef<span class="w"> </span>ttl<span class="w"> </span>eq<span class="w"> </span><span class="m">10</span>
</pre></div>

<p>After running the <code>Overridden</code> play network device configuration:</p>
<div class="code"><pre class="code literal-block">cisco#sh<span class="w"> </span>access-lists
Extended<span class="w"> </span>IP<span class="w"> </span>access<span class="w"> </span>list<span class="w"> </span><span class="m">110</span>
<span class="w">   </span><span class="m">20</span><span class="w"> </span>deny<span class="w"> </span>tcp<span class="w"> </span><span class="m">198</span>.51.100.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>eq<span class="w"> </span>telnet<span class="w"> </span><span class="m">198</span>.51.110.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>eq<span class="w"> </span>www<span class="w"> </span>ack<span class="w"> </span>dscp<span class="w"> </span>ef<span class="w"> </span>ttl<span class="w"> </span>eq<span class="w"> </span><span class="m">10</span>
Extended<span class="w"> </span>IP<span class="w"> </span>access<span class="w"> </span>list<span class="w"> </span><span class="m">150</span>
<span class="w">   </span><span class="m">10</span><span class="w"> </span>deny<span class="w"> </span>tcp<span class="w"> </span><span class="m">198</span>.51.100.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>eq<span class="w"> </span>telnet<span class="w"> </span><span class="m">198</span>.51.110.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>eq<span class="w"> </span>telnet<span class="w"> </span>syn<span class="w"> </span>dscp<span class="w"> </span>ef<span class="w"> </span>ttl<span class="w"> </span>eq<span class="w"> </span><span class="m">10</span>
</pre></div>

<p>Now, again if we dig the overridden play output:</p>
<ul>
<li>Overridden negates all of the pre-existing ACLs and deletes those
    configurations, which are not present inside the provided config.</li>
<li>For the ACL configurations that are pre-existing and also in the
    play, ios_acls overridden state will try to delete/negate all the
    pre-existing ACEs and then configure the new ACE as mentioned in the
    play</li>
<li>For any non-existing ACLs, overridden state will configure the ACL
    in a manner same as merged</li>
</ul>
<p>Now that we talked about how we can configure ACLs and the ACEs on the
CISCO IOS device by using ios_acls resource module merged, replaced and
overridden state, it's time we talk about how we can delete the
pre-configured ACLs and ACEs and what level of granularity is available
with the deleted operational state for the user.</p>
<h3>Deleting configuration changes</h3>
<p>If the user wants to delete the Cisco IOS device pre-configured ACLs
with the provided ACL configuration, then use the resource module delete
state.</p>
<p>Method 1: Delete individual ACLs <strong>based on ACL number</strong> (which means if the user needs to delete any specific ACLs configured under IPV4 or IPV6)</p>
<p>Ref gist link: </p>
<p>https://gist.githubusercontent.com/justjais/bb2a65c373ab4e64d1eeb47bc425c613/raw/056d2a6a44910863cbbbf38cad2273435574db84/Deleted.txt</p>
<p>ACLs that need to be deleted</p>
<div class="code"><pre class="code literal-block"><span class="nt">acls</span><span class="p">:</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">afi</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ipv4</span>
<span class="w">  </span><span class="nt">acls</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">test</span>
<span class="w">      </span><span class="nt">acl_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">extended</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">110</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">123</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">afi</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ipv6</span>
<span class="w">  </span><span class="nt">acls</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">R1_TRAFFIC</span>
</pre></div>

<p>Ansible Playbook Example</p>
<div class="code"><pre class="code literal-block"><span class="nn">---</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Deleted state play</span>
<span class="w">  </span><span class="nt">hosts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cisco</span>
<span class="w">  </span><span class="nt">gather_facts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">  </span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Delete ACLs based on ACL number</span>
<span class="w">      </span><span class="nt">cisco.ios.ios_acls</span><span class="p">:</span>
<span class="w">        </span><span class="nt">state</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">deleted</span>
<span class="w">        </span><span class="nt">config</span><span class="p">:</span><span class="w"> </span><span class="s">"{{</span><span class="nv"> </span><span class="s">acls</span><span class="nv"> </span><span class="s">}}"</span>
</pre></div>

<p>Before running the <code>Deleted</code> play network device configuration:</p>
<div class="code"><pre class="code literal-block">cisco#sh<span class="w"> </span>access-lists
Standard<span class="w"> </span>IP<span class="w"> </span>access<span class="w"> </span>list<span class="w"> </span>std_acl
<span class="w">   </span><span class="m">10</span><span class="w"> </span>deny<span class="w">   </span><span class="m">192</span>.168.1.200
<span class="w">   </span><span class="m">20</span><span class="w"> </span>deny<span class="w">   </span><span class="m">192</span>.168.2.0,<span class="w"> </span>wildcard<span class="w"> </span>bits<span class="w"> </span><span class="m">0</span>.0.0.255
Extended<span class="w"> </span>IP<span class="w"> </span>access<span class="w"> </span>list<span class="w"> </span><span class="m">110</span>
<span class="w">   </span><span class="m">10</span><span class="w"> </span>deny<span class="w"> </span>icmp<span class="w"> </span><span class="m">192</span>.0.2.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span><span class="m">192</span>.0.3.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>traceroute<span class="w"> </span>dscp<span class="w"> </span>ef<span class="w"> </span>ttl<span class="w"> </span>eq<span class="w"> </span><span class="m">10</span>
<span class="w">   </span><span class="m">20</span><span class="w"> </span>deny<span class="w"> </span>tcp<span class="w"> </span>host<span class="w"> </span><span class="m">198</span>.51.100.0<span class="w"> </span>host<span class="w"> </span><span class="m">198</span>.51.110.0<span class="w"> </span>eq<span class="w"> </span>telnet<span class="w"> </span>ack
Extended<span class="w"> </span>IP<span class="w"> </span>access<span class="w"> </span>list<span class="w"> </span><span class="m">123</span>
<span class="w">   </span><span class="m">10</span><span class="w"> </span>deny<span class="w"> </span>tcp<span class="w"> </span><span class="m">198</span>.51.100.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span><span class="m">198</span>.51.101.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>eq<span class="w"> </span>telnet<span class="w"> </span>ack<span class="w"> </span>tos<span class="w"> </span><span class="m">12</span>
<span class="w">   </span><span class="m">20</span><span class="w"> </span>deny<span class="w"> </span>tcp<span class="w"> </span><span class="m">192</span>.0.3.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span><span class="m">192</span>.0.4.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>eq<span class="w"> </span>www<span class="w"> </span>ack<span class="w"> </span>dscp<span class="w"> </span>ef<span class="w"> </span>ttl<span class="w"> </span>lt<span class="w"> </span><span class="m">20</span>
Extended<span class="w"> </span>IP<span class="w"> </span>access<span class="w"> </span>list<span class="w"> </span><span class="nb">test</span>
<span class="w">   </span><span class="m">10</span><span class="w"> </span>deny<span class="w"> </span>tcp<span class="w"> </span><span class="m">192</span>.0.2.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span><span class="m">192</span>.0.3.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>eq<span class="w"> </span>www<span class="w"> </span>fin<span class="w"> </span>option<span class="w"> </span>traceroute<span class="w"> </span>ttl<span class="w"> </span>eq<span class="w"> </span><span class="m">10</span>
IPv6<span class="w"> </span>access<span class="w"> </span>list<span class="w"> </span>R1_TRAFFIC
<span class="w">   </span>deny<span class="w"> </span>tcp<span class="w"> </span>any<span class="w"> </span>eq<span class="w"> </span>www<span class="w"> </span>any<span class="w"> </span>eq<span class="w"> </span>telnet<span class="w"> </span>ack<span class="w"> </span>dscp<span class="w"> </span>af11<span class="w"> </span>sequence<span class="w"> </span><span class="m">10</span>
</pre></div>

<p>With <code>Delete by ACLs</code> play run, commands that are sent:</p>
<div class="code"><pre class="code literal-block">-<span class="w"> </span>no<span class="w"> </span>ip<span class="w"> </span>access-list<span class="w"> </span>extended<span class="w"> </span><span class="nb">test</span>
-<span class="w"> </span>no<span class="w"> </span>ip<span class="w"> </span>access-list<span class="w"> </span>extended<span class="w"> </span><span class="m">110</span>
-<span class="w"> </span>no<span class="w"> </span>ip<span class="w"> </span>access-list<span class="w"> </span>extended<span class="w"> </span><span class="m">123</span>
-<span class="w"> </span>no<span class="w"> </span>ipv6<span class="w"> </span>access-list<span class="w"> </span>R1_TRAFFIC
</pre></div>

<p>After running the <code>Deleted</code> play network device configuration:</p>
<div class="code"><pre class="code literal-block">cisco#sh<span class="w"> </span>access-lists
Standard<span class="w"> </span>IP<span class="w"> </span>access<span class="w"> </span>list<span class="w"> </span>std_acl
<span class="w">   </span><span class="m">10</span><span class="w"> </span>deny<span class="w">   </span><span class="m">192</span>.168.1.200
<span class="w">   </span><span class="m">20</span><span class="w"> </span>deny<span class="w">   </span><span class="m">192</span>.168.2.0,<span class="w"> </span>wildcard<span class="w"> </span>bits<span class="w"> </span><span class="m">0</span>.0.0.255
cisco#
</pre></div>

<p>Method 2: Deleting individual ACLs <strong>based on it's AFI (i.e. Address Family Indicator)</strong> which means if the user needs to delete all of the ACLs configured under IPV4 or IPV6</p>
<p>Ref gist link:</p>
<p>https://gist.githubusercontent.com/justjais/bb2a65c373ab4e64d1eeb47bc425c613/raw/8c65946eae561ff569cfc5398879c51598ae050c/Deleted_by_AFI</p>
<p>Ansible Playbook Example</p>
<div class="code"><pre class="code literal-block"><span class="nn">---</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Deleted state play</span>
<span class="w">  </span><span class="nt">hosts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cisco</span>
<span class="w">  </span><span class="nt">gather_facts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">  </span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Delete ALL IPV4 configured ACLs</span>
<span class="w">      </span><span class="nt">cisco.ios.ios_acls</span><span class="p">:</span>
<span class="w">        </span><span class="nt">config</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">afi</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ipv4</span>
<span class="w">        </span><span class="nt">state</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">deleted</span>
</pre></div>

<p>Before running the Deleted play network device configuration:</p>
<div class="code"><pre class="code literal-block">cisco#sh<span class="w"> </span>access-lists
Standard<span class="w"> </span>IP<span class="w"> </span>access<span class="w"> </span>list<span class="w"> </span>std_acl
<span class="w">   </span><span class="m">10</span><span class="w"> </span>deny<span class="w">   </span><span class="m">192</span>.168.1.200
<span class="w">   </span><span class="m">20</span><span class="w"> </span>deny<span class="w">   </span><span class="m">192</span>.168.2.0,<span class="w"> </span>wildcard<span class="w"> </span>bits<span class="w"> </span><span class="m">0</span>.0.0.255
Extended<span class="w"> </span>IP<span class="w"> </span>access<span class="w"> </span>list<span class="w"> </span><span class="m">110</span>
<span class="w">   </span><span class="m">10</span><span class="w"> </span>deny<span class="w"> </span>icmp<span class="w"> </span><span class="m">192</span>.0.2.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span><span class="m">192</span>.0.3.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>traceroute<span class="w"> </span>dscp<span class="w"> </span>ef<span class="w"> </span>ttl<span class="w"> </span>eq<span class="w"> </span><span class="m">10</span>
<span class="w">   </span><span class="m">20</span><span class="w"> </span>deny<span class="w"> </span>tcp<span class="w"> </span>host<span class="w"> </span><span class="m">198</span>.51.100.0<span class="w"> </span>host<span class="w"> </span><span class="m">198</span>.51.110.0<span class="w"> </span>eq<span class="w"> </span>telnet<span class="w"> </span>ack
Extended<span class="w"> </span>IP<span class="w"> </span>access<span class="w"> </span>list<span class="w"> </span><span class="m">123</span>
<span class="w">   </span><span class="m">10</span><span class="w"> </span>deny<span class="w"> </span>tcp<span class="w"> </span><span class="m">198</span>.51.100.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span><span class="m">198</span>.51.101.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>eq<span class="w"> </span>telnet<span class="w"> </span>ack<span class="w"> </span>tos<span class="w"> </span><span class="m">12</span>
<span class="w">   </span><span class="m">20</span><span class="w"> </span>deny<span class="w"> </span>tcp<span class="w"> </span><span class="m">192</span>.0.3.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span><span class="m">192</span>.0.4.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>eq<span class="w"> </span>www<span class="w"> </span>ack<span class="w"> </span>dscp<span class="w"> </span>ef<span class="w"> </span>ttl<span class="w"> </span>lt<span class="w"> </span><span class="m">20</span>
Extended<span class="w"> </span>IP<span class="w"> </span>access<span class="w"> </span>list<span class="w"> </span><span class="nb">test</span>
<span class="w">   </span><span class="m">10</span><span class="w"> </span>deny<span class="w"> </span>tcp<span class="w"> </span><span class="m">192</span>.0.2.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span><span class="m">192</span>.0.3.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>eq<span class="w"> </span>www<span class="w"> </span>fin<span class="w"> </span>option<span class="w"> </span>traceroute<span class="w"> </span>ttl<span class="w"> </span>eq<span class="w"> </span><span class="m">10</span>
IPv6<span class="w"> </span>access<span class="w"> </span>list<span class="w"> </span>R1_TRAFFIC
<span class="w">   </span>deny<span class="w"> </span>tcp<span class="w"> </span>any<span class="w"> </span>eq<span class="w"> </span>www<span class="w"> </span>any<span class="w"> </span>eq<span class="w"> </span>telnet<span class="w"> </span>ack<span class="w"> </span>dscp<span class="w"> </span>af11<span class="w"> </span>sequence<span class="w"> </span><span class="m">10</span>
</pre></div>

<p>With Delete by ACLs Play run, commands that are fired:</p>
<div class="code"><pre class="code literal-block">-<span class="w"> </span>no<span class="w"> </span>ip<span class="w"> </span>access-list<span class="w"> </span>standard<span class="w"> </span>std_acl
-<span class="w"> </span>no<span class="w"> </span>ip<span class="w"> </span>access-list<span class="w"> </span>extended<span class="w"> </span><span class="nb">test</span>
-<span class="w"> </span>no<span class="w"> </span>ip<span class="w"> </span>access-list<span class="w"> </span>extended<span class="w"> </span><span class="m">110</span>
-<span class="w"> </span>no<span class="w"> </span>ip<span class="w"> </span>access-list<span class="w"> </span>extended<span class="w"> </span><span class="m">123</span>
-<span class="w"> </span>no<span class="w"> </span>ip<span class="w"> </span>access-list<span class="w"> </span>extended<span class="w"> </span><span class="nb">test</span>
</pre></div>

<p>After running the <code>Deleted</code> play network device configuration:</p>
<div class="code"><pre class="code literal-block">cisco#sh<span class="w"> </span>access-lists
IPv6<span class="w"> </span>access<span class="w"> </span>list<span class="w"> </span>R1_TRAFFIC
<span class="w">   </span>deny<span class="w"> </span>tcp<span class="w"> </span>any<span class="w"> </span>eq<span class="w"> </span>www<span class="w"> </span>any<span class="w"> </span>eq<span class="w"> </span>telnet<span class="w"> </span>ack<span class="w"> </span>dscp<span class="w"> </span>af11<span class="w"> </span>sequence<span class="w"> </span><span class="m">10</span>
cisco#
</pre></div>

<p>Method 3: Delete ALL ACLs at once</p>
<blockquote>
<p>Note: this is a very critical delete operation and if not used judiciously, it has the power of deleting all pre-configured ACLs</p>
</blockquote>
<p>Ref gist link:
https://gist.githubusercontent.com/justjais/bb2a65c373ab4e64d1eeb47bc425c613/raw/056d2a6a44910863cbbbf38cad2273435574db84/Deleted_wo_config.txt</p>
<p>Ansible Playbook Example</p>
<div class="code"><pre class="code literal-block"><span class="nn">---</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Deleted state play</span>
<span class="w">  </span><span class="nt">hosts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cisco</span>
<span class="w">  </span><span class="nt">gather_facts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">  </span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Delete ALL configured ACLs w/o passing any config</span>
<span class="w">      </span><span class="nt">cisco.ios.ios_acls</span><span class="p">:</span>
<span class="w">        </span><span class="nt">state</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">deleted</span>
</pre></div>

<p>Before running the Deleted play network device configuration:</p>
<div class="code"><pre class="code literal-block">cisco#sh<span class="w"> </span>access-lists
Standard<span class="w"> </span>IP<span class="w"> </span>access<span class="w"> </span>list<span class="w"> </span>std_acl
<span class="w">   </span><span class="m">10</span><span class="w"> </span>deny<span class="w">   </span><span class="m">192</span>.168.1.200
<span class="w">   </span><span class="m">20</span><span class="w"> </span>deny<span class="w">   </span><span class="m">192</span>.168.2.0,<span class="w"> </span>wildcard<span class="w"> </span>bits<span class="w"> </span><span class="m">0</span>.0.0.255
Extended<span class="w"> </span>IP<span class="w"> </span>access<span class="w"> </span>list<span class="w"> </span><span class="m">110</span>
<span class="w">   </span><span class="m">10</span><span class="w"> </span>deny<span class="w"> </span>icmp<span class="w"> </span><span class="m">192</span>.0.2.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span><span class="m">192</span>.0.3.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>traceroute<span class="w"> </span>dscp<span class="w"> </span>ef<span class="w"> </span>ttl<span class="w"> </span>eq<span class="w"> </span><span class="m">10</span>
<span class="w">   </span><span class="m">20</span><span class="w"> </span>deny<span class="w"> </span>tcp<span class="w"> </span>host<span class="w"> </span><span class="m">198</span>.51.100.0<span class="w"> </span>host<span class="w"> </span><span class="m">198</span>.51.110.0<span class="w"> </span>eq<span class="w"> </span>telnet<span class="w"> </span>ack
Extended<span class="w"> </span>IP<span class="w"> </span>access<span class="w"> </span>list<span class="w"> </span><span class="m">123</span>
<span class="w">   </span><span class="m">10</span><span class="w"> </span>deny<span class="w"> </span>tcp<span class="w"> </span><span class="m">198</span>.51.100.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span><span class="m">198</span>.51.101.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>eq<span class="w"> </span>telnet<span class="w"> </span>ack<span class="w"> </span>tos<span class="w"> </span><span class="m">12</span>
<span class="w">   </span><span class="m">20</span><span class="w"> </span>deny<span class="w"> </span>tcp<span class="w"> </span><span class="m">192</span>.0.3.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span><span class="m">192</span>.0.4.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>eq<span class="w"> </span>www<span class="w"> </span>ack<span class="w"> </span>dscp<span class="w"> </span>ef<span class="w"> </span>ttl<span class="w"> </span>lt<span class="w"> </span><span class="m">20</span>
Extended<span class="w"> </span>IP<span class="w"> </span>access<span class="w"> </span>list<span class="w"> </span><span class="nb">test</span>
<span class="w">   </span><span class="m">10</span><span class="w"> </span>deny<span class="w"> </span>tcp<span class="w"> </span><span class="m">192</span>.0.2.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span><span class="m">192</span>.0.3.0<span class="w"> </span><span class="m">0</span>.0.0.255<span class="w"> </span>eq<span class="w"> </span>www<span class="w"> </span>fin<span class="w"> </span>option<span class="w"> </span>traceroute<span class="w"> </span>ttl<span class="w"> </span>eq<span class="w"> </span><span class="m">10</span>
IPv6<span class="w"> </span>access<span class="w"> </span>list<span class="w"> </span>R1_TRAFFIC
<span class="w">   </span>deny<span class="w"> </span>tcp<span class="w"> </span>any<span class="w"> </span>eq<span class="w"> </span>www<span class="w"> </span>any<span class="w"> </span>eq<span class="w"> </span>telnet<span class="w"> </span>ack<span class="w"> </span>dscp<span class="w"> </span>af11<span class="w"> </span>sequence<span class="w"> </span><span class="m">10</span>
</pre></div>

<p>With Delete by ACLs Play run, commands that are fired:</p>
<div class="code"><pre class="code literal-block">-<span class="w"> </span>no<span class="w"> </span>ip<span class="w"> </span>access-list<span class="w"> </span>standard<span class="w"> </span>std_acl
-<span class="w"> </span>no<span class="w"> </span>ip<span class="w"> </span>access-list<span class="w"> </span>extended<span class="w"> </span><span class="nb">test</span>
-<span class="w"> </span>no<span class="w"> </span>ip<span class="w"> </span>access-list<span class="w"> </span>extended<span class="w"> </span><span class="m">110</span>
-<span class="w"> </span>no<span class="w"> </span>ip<span class="w"> </span>access-list<span class="w"> </span>extended<span class="w"> </span><span class="m">123</span>
-<span class="w"> </span>no<span class="w"> </span>ip<span class="w"> </span>access-list<span class="w"> </span>extended<span class="w"> </span><span class="nb">test</span>
-<span class="w"> </span>no<span class="w"> </span>ipv6<span class="w"> </span>access-list<span class="w"> </span>R1_TRAFFIC
</pre></div>

<p>After running the <code>Overridden</code> play network device configuration:</p>
<div class="code"><pre class="code literal-block">cisco#sh<span class="w"> </span>access-lists
cisco#
</pre></div>

<h3>Using state rendered - Development and working offline</h3>
<p>The state rendered transforms the provided structured data model into
platform specific CLI commands. This state does not require a connection
to the end device. For this example, it will render the provided data
model into the Cisco IOS syntax commands.</p>
<p>Ref gist link:</p>
<p>https://gist.githubusercontent.com/justjais/bb2a65c373ab4e64d1eeb47bc425c613/raw/8c65946eae561ff569cfc5398879c51598ae050c/Rendered.txt</p>
<p>ACLs Config that needs to be rendered</p>
<div class="code"><pre class="code literal-block"><span class="nt">acls</span><span class="p">:</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">afi</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ipv4</span>
<span class="w">  </span><span class="nt">acls</span><span class="p">:</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">110</span>
<span class="w">     </span><span class="nt">aces</span><span class="p">:</span>
<span class="w">       </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">grant</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">deny</span>
<span class="w">         </span><span class="nt">sequence</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="w">         </span><span class="nt">protocol_options</span><span class="p">:</span>
<span class="w">           </span><span class="nt">tcp</span><span class="p">:</span>
<span class="w">             </span><span class="nt">syn</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">         </span><span class="nt">source</span><span class="p">:</span>
<span class="w">           </span><span class="nt">address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">192.0.2.0</span>
<span class="w">           </span><span class="nt">wildcard_bits</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0.0.255</span>
<span class="w">         </span><span class="nt">destination</span><span class="p">:</span>
<span class="w">           </span><span class="nt">address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">192.0.3.0</span>
<span class="w">           </span><span class="nt">wildcard_bits</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0.0.255</span>
<span class="w">           </span><span class="nt">port_protocol</span><span class="p">:</span>
<span class="w">             </span><span class="nt">eq</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">www</span>
<span class="w">         </span><span class="nt">dscp</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ef</span>
<span class="w">         </span><span class="nt">ttl</span><span class="p">:</span>
<span class="w">           </span><span class="nt">eq</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">150</span>
<span class="w">     </span><span class="nt">aces</span><span class="p">:</span>
<span class="w">       </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">grant</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">deny</span>
<span class="w">         </span><span class="nt">protocol_options</span><span class="p">:</span>
<span class="w">           </span><span class="nt">tcp</span><span class="p">:</span>
<span class="w">             </span><span class="nt">syn</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">         </span><span class="nt">source</span><span class="p">:</span>
<span class="w">           </span><span class="nt">address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">198.51.100.0</span>
<span class="w">           </span><span class="nt">wildcard_bits</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0.0.255</span>
<span class="w">           </span><span class="nt">port_protocol</span><span class="p">:</span>
<span class="w">             </span><span class="nt">eq</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">telnet</span>
<span class="w">         </span><span class="nt">destination</span><span class="p">:</span>
<span class="w">           </span><span class="nt">address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">198.51.110.0</span>
<span class="w">           </span><span class="nt">wildcard_bits</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0.0.255</span>
<span class="w">           </span><span class="nt">port_protocol</span><span class="p">:</span>
<span class="w">             </span><span class="nt">eq</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">telnet</span>
<span class="w">         </span><span class="nt">dscp</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ef</span>
<span class="w">         </span><span class="nt">ttl</span><span class="p">:</span>
<span class="w">           </span><span class="nt">eq</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
</pre></div>

<p>Ansible Playbook Example</p>
<div class="code"><pre class="code literal-block"><span class="nn">---</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Rendered state play</span>
<span class="w">  </span><span class="nt">hosts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cisco</span>
<span class="w">  </span><span class="nt">gather_facts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">  </span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Render the provided configuration</span>
<span class="w">      </span><span class="nt">cisco.ios.ios_acls</span><span class="p">:</span>
<span class="w">        </span><span class="nt">config</span><span class="p">:</span><span class="w"> </span><span class="s">"{{</span><span class="nv"> </span><span class="s">acls</span><span class="nv"> </span><span class="s">}}"</span>
<span class="w">        </span><span class="nt">state</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">rendered</span>
</pre></div>

<p>With Render state module execution results:</p>
<div class="code"><pre class="code literal-block"><span class="s">"rendered"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="p p-Indicator">[</span>
<span class="w">   </span><span class="s">"ip</span><span class="nv"> </span><span class="s">access-list</span><span class="nv"> </span><span class="s">extended</span><span class="nv"> </span><span class="s">110"</span><span class="p p-Indicator">,</span>
<span class="w">   </span><span class="s">"10</span><span class="nv"> </span><span class="s">deny</span><span class="nv"> </span><span class="s">tcp</span><span class="nv"> </span><span class="s">192.0.2.0</span><span class="nv"> </span><span class="s">0.0.0.255</span><span class="nv"> </span><span class="s">192.0.3.0</span><span class="nv"> </span><span class="s">0.0.0.255</span><span class="nv"> </span><span class="s">eq</span><span class="nv"> </span><span class="s">www</span><span class="nv"> </span><span class="s">syn</span><span class="nv"> </span><span class="s">dscp</span><span class="nv"> </span><span class="s">ef</span><span class="nv"> </span><span class="s">ttl</span><span class="nv"> </span><span class="s">eq</span><span class="nv"> </span><span class="s">10"</span><span class="p p-Indicator">,</span>
<span class="w">   </span><span class="s">"ip</span><span class="nv"> </span><span class="s">access-list</span><span class="nv"> </span><span class="s">extended</span><span class="nv"> </span><span class="s">150"</span><span class="p p-Indicator">,</span>
<span class="w">   </span><span class="s">"deny</span><span class="nv"> </span><span class="s">tcp</span><span class="nv"> </span><span class="s">198.51.100.0</span><span class="nv"> </span><span class="s">0.0.0.255</span><span class="nv"> </span><span class="s">eq</span><span class="nv"> </span><span class="s">telnet</span><span class="nv"> </span><span class="s">198.51.110.0</span><span class="nv"> </span><span class="s">0.0.0.255</span><span class="nv"> </span><span class="s">eq</span><span class="nv"> </span><span class="s">telnet</span><span class="nv"> </span><span class="s">syn</span><span class="nv"> </span><span class="s">dscp</span><span class="nv"> </span><span class="s">ef</span><span class="nv"> </span><span class="s">ttl</span><span class="nv"> </span><span class="s">eq</span><span class="nv"> </span><span class="s">10"</span>
<span class="p p-Indicator">]</span>
</pre></div>

<p>NOTE: Render state won't change anything from configuration end</p>
<h3>Using state parsed - Development and working offline</h3>
<p>This state reads the configuration from running_config option and
transforms it into structured data (i.e. JSON). This is helpful if you
have off-line configurations, such as a backup text file, and want to
transform it into structured data. This is helpful for experimenting,
troubleshooting or offline creation of a source of truth for your data
models.</p>
<p>Ref gist link:</p>
<p>https://gist.githubusercontent.com/justjais/bb2a65c373ab4e64d1eeb47bc425c613/raw/8c65946eae561ff569cfc5398879c51598ae050c/Parsed.txt</p>
<p>ACLs Config that needs to be Parsed</p>
<p>Ansible Playbook Example</p>
<div class="code"><pre class="code literal-block"><span class="nn">---</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Parsed state play</span>
<span class="w">  </span><span class="nt">hosts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cisco</span>
<span class="w">  </span><span class="nt">gather_facts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">  </span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Parse the provided ACLs configuration</span>
<span class="w">      </span><span class="nt">cisco.ios.ios_acls</span><span class="p">:</span>
<span class="w">        </span><span class="nt">running_config</span><span class="p">:</span>
<span class="w">           </span><span class="s">"ipv6</span><span class="nv"> </span><span class="s">access-list</span><span class="nv"> </span><span class="s">R1_TRAFFIC</span>
<span class="w">           </span><span class="s">deny</span><span class="nv"> </span><span class="s">tcp</span><span class="nv"> </span><span class="s">any</span><span class="nv"> </span><span class="s">eq</span><span class="nv"> </span><span class="s">www</span><span class="nv"> </span><span class="s">any</span><span class="nv"> </span><span class="s">eq</span><span class="nv"> </span><span class="s">telnet</span><span class="nv"> </span><span class="s">ack</span><span class="nv"> </span><span class="s">dscp</span><span class="nv"> </span><span class="s">af11"</span>
<span class="w">        </span><span class="nt">state</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">parsed</span>
</pre></div>

<p>With Parsed state module execution results:</p>
<div class="code"><pre class="code literal-block"><span class="s">"parsed"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="p p-Indicator">[</span>
<span class="w">       </span><span class="p p-Indicator">{</span>
<span class="w">           </span><span class="s">"acls"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="p p-Indicator">[</span>
<span class="w">               </span><span class="p p-Indicator">{</span>
<span class="w">                   </span><span class="s">"aces"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="p p-Indicator">[</span>
<span class="w">                       </span><span class="p p-Indicator">{</span>
<span class="w">                           </span><span class="s">"destination"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="p p-Indicator">{</span>
<span class="w">                               </span><span class="s">"any"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="nv">true</span><span class="p p-Indicator">,</span>
<span class="w">                               </span><span class="s">"port_protocol"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="p p-Indicator">{</span>
<span class="w">                                   </span><span class="s">"eq"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">"telnet"</span>
<span class="w">                               </span><span class="p p-Indicator">}</span>
<span class="w">                           </span><span class="p p-Indicator">},</span>
<span class="w">                           </span><span class="s">"dscp"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">"af11"</span><span class="p p-Indicator">,</span>
<span class="w">                           </span><span class="s">"grant"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">"deny"</span><span class="p p-Indicator">,</span>
<span class="w">                           </span><span class="s">"protocol_options"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="p p-Indicator">{</span>
<span class="w">                               </span><span class="s">"tcp"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="p p-Indicator">{</span>
<span class="w">                                   </span><span class="s">"ack"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="nv">true</span>
<span class="w">                               </span><span class="p p-Indicator">}</span>
<span class="w">                           </span><span class="p p-Indicator">},</span>
<span class="w">                           </span><span class="s">"source"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="p p-Indicator">{</span>
<span class="w">                               </span><span class="s">"any"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="nv">true</span><span class="p p-Indicator">,</span>
<span class="w">                               </span><span class="s">"port_protocol"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="p p-Indicator">{</span>
<span class="w">                                   </span><span class="s">"eq"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">"www"</span>
<span class="w">                               </span><span class="p p-Indicator">}</span>
<span class="w">                           </span><span class="p p-Indicator">}</span>
<span class="w">                       </span><span class="p p-Indicator">}</span>
<span class="w">                   </span><span class="p p-Indicator">],</span>
<span class="w">                   </span><span class="s">"name"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">"R1_TRAFFIC"</span>
<span class="w">               </span><span class="p p-Indicator">}</span>
<span class="w">           </span><span class="p p-Indicator">],</span>
<span class="w">           </span><span class="s">"afi"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">"ipv6"</span>
<span class="w">       </span><span class="p p-Indicator">}</span>
<span class="w">   </span><span class="p p-Indicator">]</span>
</pre></div>

<h3>Conclusion</h3>
<p>The ACLs resource modules provide an easy way for network engineers to
begin automating access lists on multiple network platforms. While some
configuration can remain static on network devices, ACLs might need
constant updates and verification. These resource modules allow users to
adopt automation in incremental steps to make it easy for organizations
to adopt.  As soon as you have transformed your ACLs into structured
data, any resource module from any network platform can read. Imagine
reading in ACLs for your Cisco IOS box and transforming them into Cisco
IOS-XR commands. </p>
          </div>
      </article><br><hr>
<br><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title">
            <a href="getting-started-with-aws-ansible-module-development/" class="u-url">Getting Started With AWS Ansible Module Development and Community Contribution</a>
          </h1>
          <div class="metadata">
            <p class="byline author vcard">
              <span class="byline-name fn" itemprop="author">
                  <a href="../authors/jill-rouleau/">Jill Rouleau</a>
              </span>
            </p>
            <p class="dateline">
              <a href="getting-started-with-aws-ansible-module-development/" rel="bookmark">
                <time class="published dt-published" datetime="2020-10-06T00:00:00Z" itemprop="datePublished" title="2020-10-06 00:00">2020-10-06 00:00</time></a>
            </p>
          </div>
        </header><div class="p-summary entry-summary">
            <h2>Getting Started With AWS Ansible Module Development and Community Contribution</h2>
<p>We often hear from cloud admins and developers that they're interested
in giving back to Ansible and using their knowledge to benefit the
community, but they don't know how to get started.  Lots of folks may
even already be carrying new Ansible modules or plugins in their local
environments, and are looking to get them included upstream for more
broad use.</p>
<p>Luckily, it doesn't take much to get started as an Ansible contributor.
If you're already using the Ansible AWS modules, there are many ways to
use your existing knowledge, skills and experience to contribute. If you
need some ideas on where to contribute, take a look at the following:</p>
<ul>
<li>Creating integration tests: Creating <a href="https://github.com/orgs/ansible-collections/projects/4#column-9963846">missing tests</a>
    for modules is a great way to get started, and integration tests are
    just Ansible tasks!</li>
<li>Module porting: If you're familiar with the
    <a href="https://boto3.amazonaws.com/v1/documentation/api/latest/index.html">boto3</a>
    Python library, there's also a <a href="https://github.com/orgs/ansible-collections/projects/4#column-9964369">backlog of modules</a>
    that need to be ported from boto2 to boto3.</li>
<li>Repository issue triage: And of course there's always open Github
    <a href="https://github.com/ansible-collections/amazon.aws/issues?utf8=%E2%9C%93&amp;q=is%3Aissue+is%3Aopen">issues</a>
    and pull requests. Testing bugs or patches and providing feedback on
    your use cases and experiences is very valuable.</li>
</ul>
<h3>The boto3</h3>
<p>Starting with Ansible 2.10, the AWS modules have been migrated out of
the <a href="https://github.com/ansible/ansible">Ansible GitHub repo</a> and into
two new <a href="https://docs.ansible.com/ansible/latest/user_guide/collections_using.html">Collection</a>
repositories.</p>
<p>The <a href="https://github.com/ansible-collections/amazon.aws">Ansible-maintained Collection</a>,
(<code>amazon.aws</code>) houses the modules, plugins, and module utilities that are managed by the Ansible
Cloud team and are included in the downstream Red Hat Ansible Automation Platform product.</p>
<p>The <a href="https://github.com/ansible-collections/community.aws">Community Collection</a>
(<code>community.aws</code>) houses the modules and plugins that are supported by the Ansible community. 
New modules and plugins developed by the community should be proposed to
<code>community.aws</code>. Content in this Collection that is stable and meets other acceptance criteria
has the potential to be promoted and migrated into amazon.aws.</p>
<p>For more information about how to contribute to any of the
Ansible-maintained Collections, including the AWS Collections, refer to
the <a href="https://docs.ansible.com/ansible/devel/community/contributing_maintained_collections.html">Contributing to Ansible-maintained Collections section on docs.ansible.com</a>.</p>
<h3>AWS module development basics</h3>
<p>For starters, make sure you've read the
<a href="https://docs.ansible.com/ansible/devel/dev_guide/platforms/aws_guidelines.html">Guidelines for Ansible Amazon AWS module development</a>
section of the Ansible Developer Guide. Some things to keep in mind:</p>
<p>If the module needs to poll an API and wait for a particular status to
be returned before proceeding, add a
<a href="https://boto3.amazonaws.com/v1/documentation/api/latest/guide/clients.html">waiter</a>
to the <a href="https://github.com/ansible-collections/amazon.aws/blob/main/plugins/module_utils/waiters.py">waiters.py</a>
file in the <code>amazon.aws</code> collection rather than writing a loop inside your module. For example,
the <code>ec2_vpc_subnet</code> module supports a wait parameter. When true, this instructs the module
to wait for the resource to be in an expected state before returning.
The module code for this looks like the following:</p>
<div class="code"><pre class="code literal-block"><span class="l l-Scalar l-Scalar-Plain">if module.params['wait']</span><span class="p p-Indicator">:</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">handle_waiter(conn, module, 'subnet_exists', {'SubnetIds'</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">subnet</span><span class="p p-Indicator">[</span><span class="s">'id'</span><span class="p p-Indicator">]]</span><span class="err">},</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">start_time)</span>
</pre></div>

<p>And the corresponding waiter:</p>
<div class="code"><pre class="code literal-block"><span class="w">        </span><span class="s">"SubnetExists"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="p p-Indicator">{</span>
<span class="w">            </span><span class="s">"delay"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="nv">5</span><span class="p p-Indicator">,</span>
<span class="w">            </span><span class="s">"maxAttempts"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="nv">40</span><span class="p p-Indicator">,</span>
<span class="w">            </span><span class="s">"operation"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">"DescribeSubnets"</span><span class="p p-Indicator">,</span>
<span class="w">            </span><span class="s">"acceptors"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="p p-Indicator">[</span>
<span class="w">                </span><span class="p p-Indicator">{</span>
<span class="w">                    </span><span class="s">"matcher"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">"path"</span><span class="p p-Indicator">,</span>
<span class="w">                    </span><span class="s">"expected"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="nv">True</span><span class="p p-Indicator">,</span>
<span class="w">                    </span><span class="s">"argument"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">"length(Subnets[])</span><span class="nv"> </span><span class="s">&gt;</span><span class="nv"> </span><span class="s">`0`"</span><span class="p p-Indicator">,</span>
<span class="w">                    </span><span class="s">"state"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">"success"</span>
<span class="w">                </span><span class="p p-Indicator">},</span>
<span class="w">                </span><span class="p p-Indicator">{</span>
<span class="w">                    </span><span class="s">"matcher"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">"error"</span><span class="p p-Indicator">,</span>
<span class="w">                    </span><span class="s">"expected"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">"InvalidSubnetID.NotFound"</span><span class="p p-Indicator">,</span>
<span class="w">                    </span><span class="s">"state"</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">"retry"</span>
<span class="w">                </span><span class="p p-Indicator">},</span>
<span class="w">            </span><span class="p p-Indicator">]</span>
<span class="w">        </span><span class="p p-Indicator">}</span><span class="err">,</span>
</pre></div>

<p>This polls the EC2 API for <code>describe_subnets(SubnetIds=[subnet['id']])</code>
until the list of returned Subnets is greater than zero before
proceeding. If an error of <code>InvalidSubnetID.NotFound</code>
is returned, this is an expected response and the waiter code will continue.</p>
<p>Use <a href="https://boto3.amazonaws.com/v1/documentation/api/latest/guide/paginators.html">paginators</a>
when boto returns paginated results and build the result from the
<code>.build_full_result()</code> method of the paginator, rather than writing loops.</p>
<p>Be sure to handle both <code>ClientError</code> and <code>BotoCoreError</code> in your except blocks.</p>
<div class="code"><pre class="code literal-block"><span class="l l-Scalar l-Scalar-Plain">except (botocore.exceptions.ClientError, botocore.exceptions.BotoCoreError) as e</span><span class="p p-Indicator">:</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">module.fail_json_aws(e, msg="Couldn't create subnet")</span>
</pre></div>

<p>All new modules should support
<a href="https://docs.ansible.com/ansible/latest/user_guide/playbooks_checkmode.html#check-mode-dry">check_mode</a>
if at all possible.</p>
<p>Ansible strives to provide
<a href="https://en.wikipedia.org/wiki/Idempotence">idempotency</a>. Sometimes
though, this is inconsistent with the way that AWS services operate.
Think about how users will interact with the service through Ansible
tasks, and what will happen if they run the same task multiple times. 
What API calls will be made?  What changed status will be reported by
Ansible on subsequent task executions?</p>
<p>Whenever possible, avoid hardcoding data in modules. Sometimes it's
unavoidable, but if your contribution includes a hardcoded list of
instance types or a hard-coded
<a href="https://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html#arns-syntax">partition</a>,
this will likely be brought up in code review - for example,
<code>arn:aws:</code> will not match the GovCloud or China regions, and your module will not work for users
in these regions. If you've already determined there's no reasonable way
to avoid hard-coding something, please mention your findings in the pull
request.</p>
<h3>Module Utilities</h3>
<p>There's a substantial collection of <code>module_utils</code> available for working with AWS located in the <code>amazon.aws</code> collection:</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>ls<span class="w"> </span>plugins/module_utils/
acm.py<span class="w">  </span>batch.py<span class="w">  </span>cloudfront_facts.py<span class="w">  </span>cloud.py<span class="w">  </span>core.py<span class="w">  </span>direct_connect.py<span class="w">  </span>ec2.py<span class="w">  </span>elb_utils.py<span class="w">  </span>elbv2.py<span class="w">  </span>iam.py<span class="w">  </span>__init__.py<span class="w">  </span>rds.py<span class="w">  </span>s3.py<span class="w">  </span>urls.py<span class="w">  </span>waf.py<span class="w">  </span>waiters.py
</pre></div>

<p>Of particular note, <code>module_utils/core.py</code> contains <code>AnsibleAWSModule()</code>,
which is the required base class for all new modules. This provides some
nice helpers like <code>client()</code> setup, the <code>fail_json_aws()</code> method
(which will convert boto exceptions into nice error messages and handle
error message type conversion for Python2 and Python3), and the class
will handle boto library import checks for you.</p>
<p>AWS APIs tend to use and return <a href="https://en.wikipedia.org/wiki/Camel_case">Camel case</a> values, while Ansible
prefers <a href="https://en.wikipedia.org/wiki/Snake_case">Snake case</a>. Helpers
for converting between these in are available in
<code>amazon.aws.module_utils.ec2</code>,
including
<code>ansible_dict_to_boto3_filter_list()</code>,
<code>boto3_tag_list_to_ansible_dict()</code>,
and a number of tag and policy related functions.</p>
<h3>Integration Tests</h3>
<p>The AWS Collections primarily rely on <a href="https://docs.ansible.com/ansible/latest/dev_guide/testing_integration.html">functional integration tests</a>
to exercise module and plugin code by creating, modifying, and deleting
resources on AWS. Test suites are located in the Collection repository
that contains the module being tested.  The preferred style for tests
looks like a role named for the module with a test suite per module.
Sometimes it makes sense to combine the tests for more than one module
into a single test suite, such as when a tightly coupled service
dependency exists. These will generally be named for the primary module
or service being tested.  For example,
<code>*_info</code> modules may
share a test with the service they provide information for. An aliases
file in the root of the test directory controls various settings,
including which tests are aliased to that test role.</p>
<div class="code"><pre class="code literal-block">tests/integration/targets/ecs_cluster$<span class="w"> </span>ls
aliases<span class="w">  </span>defaults<span class="w">  </span>files<span class="w">  </span>meta<span class="w">  </span>tasks

tests/integration/targets/ecs_cluster$<span class="w"> </span>cat<span class="w"> </span>aliases
cloud/aws
ecs_service_info
ecs_task
ecs_taskdefinition
ecs_taskdefinition_info
unsupported
</pre></div>

<p>In this case, several modules are combined into one test, because an
<code>ecs_cluster</code> must be
created before an
<code>ecs_taskdefinition</code> can
be created. There is a strong dependency here.</p>
<p>You may also notice that ECS is not currently supported in the Ansible
CI environment.  There's a few reasons that could be, but the most
common one is that we don't allow unrestricted resource usage in the CI
AWS account. We have to create <a href="https://github.com/mattclay/aws-terminator/tree/master/aws/policy">IAM policies</a>
that allow the minimum possible access for the test coverage. Other
reasons for tests being unsupported might be because the module needs
resources that we don't have available in CI, such as a federated
identity provider. See the <strong>CI Policies and Terminator Lambda</strong> section
below for more information.</p>
<p>Another test suite status you might see is unstable. That means the test
has been observed to have a high rate of transient failures. Common
reasons include needing to wait for the resource to reach a given state
before proceeding or tests taking too long to run and exceeding the test
timer. These may require refactoring of module code or tests to be more
stable and reliable. Unstable tests only get run when the module they
cover is modified and may be retried if they fail. If you find you enjoy
testing, this is a great area to get started in!</p>
<p>Integration tests should generally check the following tasks or
functions both <strong>with and without</strong> check mode:</p>
<ul>
<li>Resource creation</li>
<li>Resource creation again (idempotency)</li>
<li>Resource modification</li>
<li>Resource modification again (idempotency)</li>
<li>Resource deletion</li>
<li>Resource deletion (of a non-existent resource)</li>
</ul>
<p>Use <code>module_defaults</code> for
credentials when creating your integration test task file, rather than
duplicating these parameters for every task. Values specified in
<code>module_defaults</code> can be
overridden per task if you need to test how the module handles bad
credentials, missing region parameters, etc.</p>
<div class="code"><pre class="code literal-block"><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">set connection information for aws modules and run tasks</span>
<span class="w">  </span><span class="nt">module_defaults</span><span class="p">:</span>
<span class="w">    </span><span class="nt">group/aws</span><span class="p">:</span>
<span class="w">      </span><span class="nt">aws_access_key</span><span class="p">:</span><span class="w"> </span><span class="s">"{{</span><span class="nv"> </span><span class="s">aws_access_key</span><span class="nv"> </span><span class="s">}}"</span>
<span class="w">      </span><span class="nt">aws_secret_key</span><span class="p">:</span><span class="w"> </span><span class="s">"{{</span><span class="nv"> </span><span class="s">aws_secret_key</span><span class="nv"> </span><span class="s">}}"</span>
<span class="w">      </span><span class="nt">security_token</span><span class="p">:</span><span class="w"> </span><span class="s">"{{</span><span class="nv"> </span><span class="s">security_token</span><span class="nv"> </span><span class="s">|</span><span class="nv"> </span><span class="s">default(omit)</span><span class="nv"> </span><span class="s">}}"</span>
<span class="w">      </span><span class="nt">region</span><span class="p">:</span><span class="w"> </span><span class="s">"{{</span><span class="nv"> </span><span class="s">aws_region</span><span class="nv"> </span><span class="s">}}"</span>

<span class="w">  </span><span class="nt">block</span><span class="p">:</span>

<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Test Handling of Bad Region</span>
<span class="w">    </span><span class="nt">ec2_instance</span><span class="p">:</span>
<span class="w">    </span><span class="nt">region</span><span class="p">:</span><span class="w"> </span><span class="s">"us-nonexistent-7"</span>
<span class="w">      </span><span class="l l-Scalar l-Scalar-Plain">... params …</span>

<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Do Something</span>
<span class="w">    </span><span class="nt">ec2_instance</span><span class="p">:</span>
<span class="w">      </span><span class="l l-Scalar l-Scalar-Plain">... params ...</span>

<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Do Something Else</span>
<span class="w">    </span><span class="nt">ec2_instance</span><span class="p">:</span>
<span class="w">      </span><span class="l l-Scalar l-Scalar-Plain">... params ...</span>
</pre></div>

<p>Integration tests should make use of
<a href="https://docs.ansible.com/ansible/latest/user_guide/playbooks_blocks.html">blocks</a>
with test tasks in one or more blocks and a final
<code>always:</code> block that
deletes all resources created by the tests.</p>
<h3>Unit Tests</h3>
<p>While most modules are tested with integration tests, sometimes this is
just not feasible.  An example is when testing AWS Direct Connect. The
<code>community.aws.aws_direct_connect*</code>
modules can be used to establish a network transit link between AWS and
a private data center. This is not a task that can be done simply or
repeatedly in a CI test system. For modules that cannot practically be
integration tested, we do require <a href="https://docs.ansible.com/ansible/devel/dev_guide/testing_units_modules.html#testing-units-modules">unit tests</a>
for inclusion into any AWS Ansible Collection.  The
<a href="https://pypi.org/project/placebo/">placebo</a> Python library provides a
nice mechanism for recording and mocking boto3 API responses and is
preferred to writing and maintaining AWS fixtures when possible.</p>
<h3>CI Policies and Terminator Lambda</h3>
<p>The Ansible AWS CI environment has safeguards and specific tooling to
ensure resources are properly restricted, and that test resources are
cleaned up in a reasonable amount of time. These tools live in the
<a href="https://github.com/mattclay/aws-terminator">aws-terminator</a> repository.
There are three main sections of this repository to be aware of:</p>
<ol>
<li>The <code>aws/policy/</code> directory</li>
<li>The <code>aws/terminator/</code> directory</li>
<li>The <code>hacking/</code> directory</li>
</ol>
<p>The <code>aws/policy/</code> directory contains IAM policies used by the Ansible CI service.
We generally attempt to define the minimum AWS IAM Actions and Resources
necessary to execute comprehensive integration test coverage. For
example, rather than enabling <code>ec2:*</code>, we have multiple
statement IDs, <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements_sid.html">Sids</a>
that specify different actions for different resource specifications.</p>
<p>We permit <code>ec2:DescribeImages</code> fairly broadly in the region our CI runs in:</p>
<div class="code"><pre class="code literal-block"><span class="w">  </span><span class="nt">Resource</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">"*"</span>
<span class="w">  </span><span class="w w-Error">  </span><span class="nt">Condition</span><span class="p">:</span>
<span class="w">      </span><span class="nt">StringEquals</span><span class="p">:</span>
<span class="w">        </span><span class="nt">ec2:Region</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">'{{</span><span class="nv"> </span><span class="s">aws_region</span><span class="nv"> </span><span class="s">}}'</span>
</pre></div>

<p>But are more restrictive on which instance types can be started or run via CI:</p>
<div class="code"><pre class="code literal-block"><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">Sid</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">AllowEc2RunInstancesInstanceType</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">Effect</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Allow</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">Action</span><span class="p p-Indicator">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ec2:RunInstances</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ec2:StartInstances</span>
<span class="w">  </span><span class="w w-Error">  </span><span class="nt">Resource</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">arn:aws:ec2:us-east-1:{{ aws_account_id }}:instance/*</span>
<span class="w">    </span><span class="nt">Condition</span><span class="p">:</span>
<span class="w">      </span><span class="nt">StringEquals</span><span class="p">:</span>
<span class="w">        </span><span class="nt">ec2:InstanceType</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">t2.nano</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">t2.micro</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">t3.nano</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">t3.micro</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">m1.large</span><span class="w">  </span><span class="c1"># lowest cost instance type with EBS optimization supported</span>
</pre></div>

<p>The <code>aws/terminator/</code> directory contains the terminator application, which we deploy to AWS
Lambda.  This acts as a cleanup service in the event that any CI job
fails to remove resources that it creates.  Information about writing a
new terminator class can be found in the terminator's
<a href="https://github.com/mattclay/aws-terminator/blob/master/aws/README.md">README</a>.</p>
<p>The <code>hacking/</code> directory contains a playbook and two sets of policies that are intended for
contributors to use with their own AWS accounts.  The <code>aws_config/setup-iam.yml</code>
playbook creates IAM policies and associates them with two iam_groups.
These groups can then be associated with your own appropriate user:</p>
<ul>
<li>
<em>ansible-integration-ci</em>: This group mirrors the permissions used by
    the the AWS collections CI</li>
<li>
<em>ansible-integration-unsupported</em>: The group assigns additional
    permissions on top of the 'CI' permissions required to run the
    'unsupported' tests</li>
</ul>
<p>Usage information to deploy these groups and policies to your AWS user
is documented in the <a href="https://github.com/mattclay/aws-terminator/blob/master/hacking/aws_config/setup-iam.yml">setup-iam.yml</a>
playbook.</p>
<h3>Testing Locally</h3>
<p>You've now written your code and your test cases, but you'd like to run
your tests locally before pushing to GitHub and sending the change
through CI.  Great!  You'll need credentials for an AWS account and a
few setup steps. </p>
<p>Ansible includes a CLI utility to run integration tests.  You can either
set up a <a href="https://boto3.amazonaws.com/v1/documentation/api/latest/guide/configuration.html">boto profile</a>
in your environment or use a credentials config file to authenticate to
AWS.  A <a href="https://github.com/ansible/ansible/blob/devel/test/lib/ansible_test/config/cloud-config-aws.ini.template">sample config</a>
file is provided by the ansible-test application included with Ansible. 
Copy this file to <code>tests/integration/cloud-config-aws.ini</code> in your local checkout of
the collection repository and fill in your AWS account details for
<code>@ACCESS_KEY</code>, <code>@SECRET_KEY</code>, <code>@SECURITY_TOKEN</code>, <code>@REGIO</code>N.</p>
<p><strong>NOTE:</strong> Both AWS Collection repositories have a
<code>tests/.gitignore</code> file that will ignore this file path when checking in code, but you should
always be vigilant when storing AWS credentials to disk or in a
repository directory.</p>
<p>If you already have Ansible installed  on your local machine,
<code>ansible-test</code> should already be in your PATH.  If not, you can run it from a local checkout
of the Ansible project.</p>
<div class="code"><pre class="code literal-block">git<span class="w"> </span>clone<span class="w"> </span>https://github.com/ansible/ansible.git
<span class="nb">cd</span><span class="w"> </span>ansible/
<span class="nb">source</span><span class="w"> </span>ansible/hacking/env-setup
</pre></div>

<p>You will also need to ensure that any Collection dependencies are
installed and accessible in your
<a href="https://docs.ansible.com/ansible/devel/reference_appendices/config.html#collections-paths">COLLECTIONS_PATHS</a>. 
Collection dependencies are listed in the
<code>tests/requirements.yml</code> file in the Collection and can be installed with the
<code>ansible-galaxy collection install</code> command.</p>
<p>You can now run integration tests from the Collection repository:</p>
<div class="code"><pre class="code literal-block"><span class="nb">cd</span><span class="w"> </span>~/src/collections/ansible_collections/amazon/aws
ansible-test<span class="w"> </span>integration<span class="w"> </span>ec2_group
</pre></div>

<p>Tests that are unstable or unsupported will not be executed by default. 
To run these types of tests, there are additional flags you can pass to
<code>ansible-test</code>:</p>
<div class="code"><pre class="code literal-block">ansible-test<span class="w"> </span>integration<span class="w"> </span>ec2_group<span class="w"> </span>--allow-unstable<span class="w">  </span>--allow-unsupported
</pre></div>

<p>If you prefer to run the tests in a container, there is a default test
image that <code>ansible-test</code>
can automatically retrieve and run that contains the necessary Python
libraries for AWS tests.  This can be pulled and run by providing the
<code>--docker</code> flag.  (Docker must already be installed and configured on your local system.)</p>
<div class="code"><pre class="code literal-block">ansible-test<span class="w"> </span>integration<span class="w"> </span>ec2_group<span class="w"> </span>--allow-unstable<span class="w">  </span>--allow-unsupported<span class="w"> </span>--docker
</pre></div>

<p>The test container image ships with all Ansible-supported versions of
Python.  To specify a particular Python version, such as 3.7, test with:</p>
<div class="code"><pre class="code literal-block">ansible-test<span class="w"> </span>integration<span class="w"> </span>ec2_group<span class="w"> </span>--allow-unstable<span class="w">  </span>--allow-unsupported<span class="w"> </span>--docker<span class="w"> </span>--python<span class="w"> </span><span class="m">3</span>.7
</pre></div>

<p><strong>NOTE:</strong> Integration tests will create real resources in the specified
AWS account subject to AWS pricing for the resource and region. 
Existing tests should make every effort to remove resources at the end
of the test run, but make sure to check that all created resources are
successfully deleted after executing a test suite to prevent billing
surprises.  This is especially recommended when developing new test
suites or adding new resources not already covered by the test's always
cleanup block.  </p>
<p><strong>NOTE:</strong> Be cautious when working with IAM, security groups, and other
access controls that have the potential to expose AWS account access or
resources.</p>
<h3>Submitting a Change</h3>
<p>When your change is ready to submit, open a <a href="https://help.github.com/en/github/collaborating-with-issues-and-pull-requests/proposing-changes-to-your-work-with-pull-requests">pull request</a>
(PR) in the GitHub repository for the <a href="https://docs.ansible.com/ansible/devel/community/contributing_maintained_collections.html">appropriate AWS Collection</a>. 
Shippable CI will automatically run tests and report the results back to
the PR.  If your change is for a new module or tests new AWS resources
or actions, you may see permissions failures in the test.  In that case,
you will also need to open a PR in the <a href="https://github.com/mattclay/aws-terminator/">mattclay/aws-terminator repository</a>
to add IAM permissions and possibly a <a href="https://github.com/mattclay/aws-terminator/blob/master/aws/README.md">Terminator class</a>
to support testing the new functionality, as described in the
<strong>CI Policies and Terminator Lambda</strong> section of
this post.  Members of the Ansible AWS community will triage and review
your contribution, and provide any feedback they have on the
submission.  </p>
<h3>Next Steps and Resources</h3>
<p>Contributing to open source projects can be daunting at first, but
hopefully this blog post provides a good technical resource on how to
contribute to the AWS Ansible Collections. If you need assistance with
your contribution along the way, you can find the Ansible AWS community
on <a href="https://freenode.net/">Freenode</a> IRC in channel #ansible-aws.</p>
<p>Congratulations and welcome, you are now a contributor to the Ansible
project!</p>
          </div>
      </article><br><hr>
<br><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title">
            <a href="bullhorn-11/" class="u-url">Bullhorn #11</a>
          </h1>
          <div class="metadata">
            <p class="byline author vcard">
              <span class="byline-name fn" itemprop="author">
                  <a href="../authors/ansible-collaborative-et-al/">Ansible Collaborative, et al</a>
              </span>
            </p>
            <p class="dateline">
              <a href="bullhorn-11/" rel="bookmark">
                <time class="published dt-published" datetime="2020-09-30T15:00:00Z" itemprop="datePublished" title="2020-09-30 15:00">2020-09-30 15:00</time></a>
            </p>
          </div>
        </header><div class="p-summary entry-summary">
            <p><img alt="Ansible Bullhorn banner" src="../images/bullhorn-banner-mango.png"></p>
<tr>
<td class="mcnTextContent" style='padding: 0px 18px 9px;font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;word-break: break-word;color: #202020;font-size: 16px;line-height: 150%;text-align: left;' valign="top">

                            <h2 class="null" dir="ltr" style="display: block;margin: 0;padding: 0;color: #202020;font-family: Helvetica;font-size: 26px;font-style: normal;font-weight: bold;line-height: 125%;letter-spacing: normal;text-align: left;">The Bullhorn</h2>

<p dir="ltr" style='font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;margin: 10px 0;padding: 0;mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #202020;font-size: 16px;line-height: 150%;text-align: left;'><em>A Newsletter for the Ansible Developer Community<br>
Issue #11, 2020-09-30</em><br><br>
Welcome to <em>The Bullhorn</em>, our newsletter for the Ansible developer community. If you have any questions or content you’d like to share, please reach out to us at the-bullhorn@redhat.com, or comment on this <a href="https://github.com/ansible/community/issues/546" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">GitHub issue</a>.<br>
 </p>

<h3 class="null" dir="ltr" style="display: block;margin: 0;padding: 0;color: #202020;font-family: Helvetica;font-size: 22px;font-style: normal;font-weight: bold;line-height: 125%;letter-spacing: normal;text-align: left;">KEY DATES</h3>

<ul dir="ltr">
<li style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;">2020-10-07: <a href="https://github.com/ansible/community/issues/539" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">community IRC meeting</a>
</li>
    <li style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;">2020-10-12: <a href="https://github.com/ansible/community/wiki/Contributor-Summit" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">Ansible Contributor Summit</a> - <a href="https://primetime.bluejeans.com/a2m/register/qqzhsuug" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">New Contributor Workshops</a>
</li>
    <li style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;">2020-10-13 &amp; 14: <a href="https://www.ansible.com/ansiblefest" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">AnsibleFest 2020 Virtual Experience</a>
</li>
    <li style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;">2020-10-12: <a href="https://github.com/ansible/community/wiki/Contributor-Summit" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">Ansible Contributor Summit</a> - <a href="https://primetime.bluejeans.com/a2m/register/ufuthevw" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">Current Contributor Workshops</a>
</li>
</ul>
 

<h3 class="null" dir="ltr" style="display: block;margin: 0;padding: 0;color: #202020;font-family: Helvetica;font-size: 22px;font-style: normal;font-weight: bold;line-height: 125%;letter-spacing: normal;text-align: left;">ANSIBLE 2.10.0 NOW GENERALLY AVAILABLE</h3>
The Ansible Community team announced the general availability of Ansible 2.10.0 on September 22nd! This new Ansible package should be a drop-in replacement for Ansible 2.9; the roles and playbooks that you currently use should work out of the box with ansible-2.10.0. For more information on what’s new, how to get it, plus caveats and known bugs, read <a href="https://groups.google.com/forum/#!topic/ansible-devel/-6n_Tj_pXBQ" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">Toshio Kuratomi’s announcement to the ansible-devel mailing list</a>.<br>
 
<h3 class="null" style="display: block;margin: 0;padding: 0;color: #202020;font-family: Helvetica;font-size: 22px;font-style: normal;font-weight: bold;line-height: 125%;letter-spacing: normal;text-align: left;">ANSIBLE-BASE 2.10.2 RC1 NOW AVAILABLE</h3>
The Ansible Base team announced a release candidate of Ansible 2.10.2 on September 28th. This ansible-base package consists of only the Ansible execution engine, related tools (e.g. ansible-galaxy, ansible-test), and a very small set of built-in plugins, and is also bundled with the larger Ansible distribution. For more information on how to download, test, and report issues, read <a href="https://groups.google.com/forum/#!topic/ansible-devel/vBwGJ2wq-P8" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">Rick Elrod’s announcement to the ansible-devel mailing list</a>.<br>
 
<h3 class="null" style="display: block;margin: 0;padding: 0;color: #202020;font-family: Helvetica;font-size: 22px;font-style: normal;font-weight: bold;line-height: 125%;letter-spacing: normal;text-align: left;">ANSIBLE 2.9.14 RC1 AND 2.8.16 RC1 AVAILABLE</h3>
The Ansible Core team announced the availability of Ansible 2.9.14 rc1 and Ansible 2.8.16 rc1 on September 28th, both of which are maintenance releases. Follow <a href="https://groups.google.com/forum/#!topic/ansible-devel/CVzGsgncSgQ" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">this link</a> for Rick Elrod’s email to the ansible-devel mailing list, to obtain details on what’s new, installation instructions, and links to the full changelogs.<br>
 
<h3 class="null" style="display: block;margin: 0;padding: 0;color: #202020;font-family: Helvetica;font-size: 22px;font-style: normal;font-weight: bold;line-height: 125%;letter-spacing: normal;text-align: left;">CHANGES IMPACTING COLLECTION CONTRIBUTORS AND MAINTAINERS</h3>

<ul>
<li style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;"><a href="https://github.com/ansible-collections/overview/issues/45#issuecomment-699148222" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">macOS 10.15 testing image now available in CI</a></li>
    <li style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;">
<span style="font-family:courier new,courier,lucida sans typewriter,lucida typewriter,monospace">ansible-test sanity</span> <a href="https://github.com/ansible-collections/overview/issues/45#issuecomment-700973171" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">validates more semantic versioning properties for collections</a>
</li>
</ul>
Follow <a href="https://github.com/ansible-collections/overview/issues/45" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">this GitHub issue</a> to track changes that Collection maintainers and contributors should be aware of.<br>
 
<h3 class="mc-toc-title" style="display: block;margin: 0;padding: 0;color: #202020;font-family: Helvetica;font-size: 22px;font-style: normal;font-weight: bold;line-height: 125%;letter-spacing: normal;text-align: left;">ANSIBLE CONTRIBUTOR SUMMIT - PART OF ANSIBLEFEST 2020</h3>
Due to overwhelming interest in the <a href="https://www.ansible.com/ansiblefest" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">AnsibleFest 2020</a> edition of the <strong>Ansible Contributor Summit</strong>, we are planning 2 days of program for you, depending on where you are in your contribution journey. These will be held on October 12 and 15, 2020.<br><br>
Take a look at the <a href="https://github.com/ansible/community/wiki/Contributor-Summit" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">wiki page</a> to find out how the two days will be structured, and register via the corresponding links. We look forward to your participation at the Contributor Summit!<br>
 
<h3 class="null" style="display: block;margin: 0;padding: 0;color: #202020;font-family: Helvetica;font-size: 22px;font-style: normal;font-weight: bold;line-height: 125%;letter-spacing: normal;text-align: left;">NEW/UPDATED COMMUNITY COLLECTIONS</h3>
<a href="https://galaxy.ansible.com/theforeman/foreman" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">Foreman collection 1.3.0</a> has been released. Check out what's new, how to obtain it, and more in this <a href="https://theforeman.org/2020/09/foreman-ansible-modules-v130-released.html" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">blog post</a> by <a href="https://twitter.com/zhenech" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">Evgeni Golov</a>.<br>
 
<h3 class="null" style="display: block;margin: 0;padding: 0;color: #202020;font-family: Helvetica;font-size: 22px;font-style: normal;font-weight: bold;line-height: 125%;letter-spacing: normal;text-align: left;">ANSIBLE COMMUNITY STATS UPDATE</h3>
Following productive discussions in recent community meetings (see the minutes around <a href="https://github.com/ansible/community/issues/539#issuecomment-670386710" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">#539 (comment)</a>), <a href="https://twitter.com/Gwmngilfen" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">Greg Sutcliffe</a> has put together an alpha version of a Collections Dashboard. Eventually it will have summary stats across our community, but for now you can query a given collection and get some useful data.<br><br>
Greg will be pre-recording a talk on this for the upcoming <a href="https://github.com/ansible/community/wiki/Contributor-Summit" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">Contributor Summit</a>, but for now you can play with it <a href="https://stats.eng.ansible.com/app/collections_dash" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">here</a> and the source code (along with the list of collections to index) is <a href="https://github.com/ansible-community/stats-collections" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">here</a>. Please do raise issues &amp; feature requests!<br><br><a href="https://mcusercontent.com/56d874e027110e35dea0e03c1/images/6d9b2ce5-9984-4f96-9e09-75ad8db1b9bb.png" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;"><img data-file-id="5416109" src="https://mcusercontent.com/56d874e027110e35dea0e03c1/images/6d9b2ce5-9984-4f96-9e09-75ad8db1b9bb.png" style="border: 0px;width: 600px;height: 295px;margin: 0px;outline: none;text-decoration: none;-ms-interpolation-mode: bicubic;" width="600" height="295"></a><br>
 
<h3 class="null" style="display: block;margin: 0;padding: 0;color: #202020;font-family: Helvetica;font-size: 22px;font-style: normal;font-weight: bold;line-height: 125%;letter-spacing: normal;text-align: left;">CONTENT FROM THE ANSIBLE COMMUNITY</h3>

<ul>
<li style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;">Announcing the release of ARA 1.5.0! <a href="https://twitter.com/RecordsAnsible/status/1308842386450198528" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">Twitter</a> / <a href="https://ara.recordsansible.org/blog/2020/09/23/announcing-the-release-of-ara-1.5.0/" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">Blog post</a> by <a href="https://twitter.com/dmsimard" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">David Moreau-Simard</a>
</li>
    <li style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;">
<a href="https://community.ibm.com/community/user/ibmz-and-linuxone/blogs/blake-becker1/2020/09/03/zos-user-management-with-ansible" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">z/OS User Management With Ansible</a> by Blake Becker</li>
</ul>
 

<h3 class="mc-toc-title" style="display: block;margin: 0;padding: 0;color: #202020;font-family: Helvetica;font-size: 22px;font-style: normal;font-weight: bold;line-height: 125%;letter-spacing: normal;text-align: left;">NETDEVOPS SURVEY 2020 NOW OPEN</h3>
The NetDevOps Survey 2020 is now live, and looking for respondents! The goal of this survey is to collect information to understand how network operators and engineers are using automation to operate their network today. The survey has been designed to be vendor neutral, collaborative, and community-focused. All network professionals are welcome to participate in the survey, please complete the survey <a href="http://bit.ly/netdevops-survey-2020" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">here</a> October 23.<br>
 
<h3 class="null" style="display: block;margin: 0;padding: 0;color: #202020;font-family: Helvetica;font-size: 22px;font-style: normal;font-weight: bold;line-height: 125%;letter-spacing: normal;text-align: left;">OPEN SOURCE AUTOMATION DAYS</h3>
We will be a part of <a href="https://osad-munich.org/en/" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">Open Source Automation Days</a>, which will be an online event from October 19-21, 2020. Check out the <a href="https://osad-munich.org/en/featured-speakers-2020/" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">speakers and topics</a>, as well as <a href="https://osad-munich.org/en/workshops/" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">workshops</a>, and get tickets <a href="https://osad-munich.org/en/osad-2020-tickets/" target="_blank" style="mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #007C89;font-weight: normal;text-decoration: underline;">here</a> if you’re interested.<br>
 
<h3 class="null" style="display: block;margin: 0;padding: 0;color: #202020;font-family: Helvetica;font-size: 22px;font-style: normal;font-weight: bold;line-height: 125%;letter-spacing: normal;text-align: left;">FEEDBACK</h3>

<p dir="ltr" style='font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;margin: 10px 0;padding: 0;mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;color: #202020;font-size: 16px;line-height: 150%;text-align: left;'>Have any questions you’d like to ask, or issues you’d like to see covered? Please send us an email at the-bullhorn@redhat.com.</p>
 

<h2 class="null" dir="ltr" style="display: block;margin: 0;padding: 0;color: #202020;font-family: Helvetica;font-size: 26px;font-style: normal;font-weight: bold;line-height: 125%;letter-spacing: normal;text-align: left;"> </h2>

                        </td>
                    </tr>
</div>
      </article><br><hr>
<br>
</div>
          <ul class="pager postindexpager clearfix">
<li class="previous"><a href="index-9.html" rel="prev">Newer posts</a></li>
            <li class="next"><a href="index-7.html" rel="next">Older posts</a></li>
        </ul>
<!--End of body content-->
</div>
        <div class="content-slim redhat-footer">
      <div class="footer-left">
        <ul class="footer-left-links">
<li>
            <a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank">CC BY-SA 4.0</a>
          </li>
          <li>
            <a href="https://www.redhat.com/en/about/privacy-policy" target="_blank">Privacy policy</a>
          </li>
          <li>
            <a href="https://docs.ansible.com/ansible/latest/community/code_of_conduct.html" target="_blank">Code of conduct</a>
          </li>
        </ul>
</div>
      <div class="footer-right">
        <span class="redhat">Powered by</span>
        <span class="redhat-logo">
          <a href="https://www.redhat.com/en/technologies/management/ansible" target="_blank">
            <img src="../assets/images/redhat_reversed.svg" alt="Red Hat logo." width="96" height="28"></a>
        </span>
      </div>
    </div>

</div>

            <script src="../assets/js/jquery.min.js"></script><script src="../assets/js/popper.min.js"></script><script src="../assets/js/bootstrap.min.js"></script><script src="../assets/js/baguetteBox.min.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element){var i=element.getElementsByTagName('img')[0];return i===undefined?'':i.alt;}});
</script><script src="../assets/js/clipboard.min.js" type="text/javascript"></script><script src="../assets/js/clipboard.js" type="text/javascript"></script>
</body>
</html>
